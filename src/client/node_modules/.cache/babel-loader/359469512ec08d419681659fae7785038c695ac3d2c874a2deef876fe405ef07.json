{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"XHRM-todo-list\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"XHRM-todo-list-item\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"XHRM-todo-list-item\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"XHRM-todo-list-item\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"XHRM-todo-list-item\"\n};\nconst _hoisted_6 = {\n  key: 4,\n  class: \"XHRM-todo-list-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_icon_button = _resolveComponent(\"oxd-icon-button\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_base_widget = _resolveComponent(\"base-widget\");\n  return _openBlock(), _createBlock(_component_base_widget, {\n    icon: \"list-check\",\n    empty: $options.isEmpty,\n    \"empty-text\": $options.emptyText,\n    loading: _ctx.isLoading,\n    title: _ctx.$t('dashboard.my_actions')\n  }, {\n    default: _withCtx(() => [$data.myActions.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.leaveRequestCount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_oxd_icon_button, {\n      class: \"XHRM-report-icon\",\n      name: \"attendanceAlt\",\n      \"icon-type\": \"svg\",\n      \"display-type\": \"success\",\n      onClick: $options.onClickPendingLeave\n    }, null, 8, [\"onClick\"]), _createVNode(_component_oxd_text, {\n      tag: \"p\",\n      onClick: $options.onClickPendingLeave\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('dashboard.n_pending_leave_request', {\n        pendingActionsCount: $data.leaveRequestCount\n      })), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])) : _createCommentVNode(\"\", true), $data.timeSheetCount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_oxd_icon_button, {\n      class: \"XHRM-report-icon\",\n      name: \"timeAlt\",\n      \"icon-type\": \"svg\",\n      \"display-type\": \"warn\",\n      onClick: $options.onClickPendingTimesheet\n    }, null, 8, [\"onClick\"]), _createVNode(_component_oxd_text, {\n      tag: \"p\",\n      onClick: $options.onClickPendingTimesheet\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('dashboard.n_pending_time_sheet', {\n        pendingActionsCount: $data.timeSheetCount\n      })), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])) : _createCommentVNode(\"\", true), $data.reviewCount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_oxd_icon_button, {\n      class: \"XHRM-report-icon\",\n      name: \"appraisals\",\n      \"icon-type\": \"svg\",\n      \"display-type\": \"danger\",\n      onClick: $options.onClickPendingReview\n    }, null, 8, [\"onClick\"]), _createVNode(_component_oxd_text, {\n      tag: \"p\",\n      onClick: $options.onClickPendingReview\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('dashboard.n_pending_performance_evaluate', {\n        pendingActionsCount: $data.reviewCount\n      })), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])) : _createCommentVNode(\"\", true), $data.selfReviewCount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_oxd_icon_button, {\n      class: \"XHRM-report-icon\",\n      name: \"appraisals\",\n      \"icon-type\": \"svg\",\n      \"display-type\": \"danger\",\n      onClick: $options.onClickPendingReview\n    }, null, 8, [\"onClick\"]), _createVNode(_component_oxd_text, {\n      tag: \"p\",\n      onClick: $options.onClickSelfReview\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('dashboard.n_pending_self_review', {\n        pendingActionsCount: $data.selfReviewCount\n      })), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])) : _createCommentVNode(\"\", true), $data.interviewCount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createVNode(_component_oxd_icon_button, {\n      class: \"XHRM-report-icon\",\n      name: \"interview\",\n      \"icon-type\": \"svg\",\n      \"display-type\": \"info\",\n      onClick: $options.onClickPendingInterview\n    }, null, 8, [\"onClick\"]), _createVNode(_component_oxd_text, {\n      tag: \"p\",\n      onClick: $options.onClickPendingInterview\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('dashboard.n_pending_candidate_interview', {\n        pendingActionsCount: $data.interviewCount\n      })), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true)]),\n    _: 1\n  }, 8, [\"empty\", \"empty-text\", \"loading\", \"title\"]);\n}","map":{"version":3,"names":["class","_createBlock","_component_base_widget","icon","empty","$options","isEmpty","emptyText","loading","_ctx","isLoading","title","$t","$data","myActions","length","_createElementBlock","_hoisted_1","leaveRequestCount","_hoisted_2","_createVNode","_component_oxd_icon_button","name","onClick","onClickPendingLeave","_component_oxd_text","tag","timeSheetCount","_hoisted_3","onClickPendingTimesheet","reviewCount","_hoisted_4","onClickPendingReview","selfReviewCount","_hoisted_5","onClickSelfReview","interviewCount","_hoisted_6","onClickPendingInterview"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMDashboardPlugin\\components\\MyActionSummaryWidget.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <base-widget\n    icon=\"list-check\"\n    :empty=\"isEmpty\"\n    :empty-text=\"emptyText\"\n    :loading=\"isLoading\"\n    :title=\"$t('dashboard.my_actions')\"\n  >\n    <div v-if=\"myActions.length > 0\" class=\"XHRM-todo-list\">\n      <div v-if=\"leaveRequestCount > 0\" class=\"XHRM-todo-list-item\">\n        <oxd-icon-button\n          class=\"XHRM-report-icon\"\n          name=\"attendanceAlt\"\n          icon-type=\"svg\"\n          display-type=\"success\"\n          @click=\"onClickPendingLeave\"\n        />\n        <oxd-text tag=\"p\" @click=\"onClickPendingLeave\">\n          {{\n            $t('dashboard.n_pending_leave_request', {\n              pendingActionsCount: leaveRequestCount,\n            })\n          }}\n        </oxd-text>\n      </div>\n      <div v-if=\"timeSheetCount > 0\" class=\"XHRM-todo-list-item\">\n        <oxd-icon-button\n          class=\"XHRM-report-icon\"\n          name=\"timeAlt\"\n          icon-type=\"svg\"\n          display-type=\"warn\"\n          @click=\"onClickPendingTimesheet\"\n        />\n        <oxd-text tag=\"p\" @click=\"onClickPendingTimesheet\">\n          {{\n            $t('dashboard.n_pending_time_sheet', {\n              pendingActionsCount: timeSheetCount,\n            })\n          }}\n        </oxd-text>\n      </div>\n      <div v-if=\"reviewCount > 0\" class=\"XHRM-todo-list-item\">\n        <oxd-icon-button\n          class=\"XHRM-report-icon\"\n          name=\"appraisals\"\n          icon-type=\"svg\"\n          display-type=\"danger\"\n          @click=\"onClickPendingReview\"\n        />\n        <oxd-text tag=\"p\" @click=\"onClickPendingReview\">\n          {{\n            $t('dashboard.n_pending_performance_evaluate', {\n              pendingActionsCount: reviewCount,\n            })\n          }}\n        </oxd-text>\n      </div>\n      <div v-if=\"selfReviewCount > 0\" class=\"XHRM-todo-list-item\">\n        <oxd-icon-button\n          class=\"XHRM-report-icon\"\n          name=\"appraisals\"\n          icon-type=\"svg\"\n          display-type=\"danger\"\n          @click=\"onClickPendingReview\"\n        />\n        <oxd-text tag=\"p\" @click=\"onClickSelfReview\">\n          {{\n            $t('dashboard.n_pending_self_review', {\n              pendingActionsCount: selfReviewCount,\n            })\n          }}\n        </oxd-text>\n      </div>\n      <div v-if=\"interviewCount > 0\" class=\"XHRM-todo-list-item\">\n        <oxd-icon-button\n          class=\"XHRM-report-icon\"\n          name=\"interview\"\n          icon-type=\"svg\"\n          display-type=\"info\"\n          @click=\"onClickPendingInterview\"\n        />\n        <oxd-text tag=\"p\" @click=\"onClickPendingInterview\">\n          {{\n            $t('dashboard.n_pending_candidate_interview', {\n              pendingActionsCount: interviewCount,\n            })\n          }}\n        </oxd-text>\n      </div>\n    </div>\n  </base-widget>\n</template>\n<script>\nimport {navigate} from '@ohrm/core/util/helper/navigation';\nimport {APIService} from '@/core/util/services/api.service';\nimport BaseWidget from '@/XHRMDashboardPlugin/components/BaseWidget.vue';\n\nexport default {\n  name: 'MyActionSummaryWidget',\n\n  components: {\n    'base-widget': BaseWidget,\n  },\n\n  setup() {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      '/api/v2/dashboard/employees/action-summary',\n    );\n\n    return {\n      http,\n    };\n  },\n\n  data() {\n    return {\n      myActions: [],\n      leaveRequestCount: 0,\n      timeSheetCount: 0,\n      reviewCount: 0,\n      selfReviewCount: 0,\n      interviewCount: 0,\n    };\n  },\n\n  computed: {\n    isEmpty() {\n      return this.myActions.length === 0;\n    },\n    emptyText() {\n      return this.$t('dashboard.no_pending_actions');\n    },\n  },\n\n  beforeMount() {\n    this.isLoading = false;\n    this.http\n      .getAll()\n      .then((response) => {\n        const {data} = response.data;\n        this.myActions = data.map((item) => {\n          const {group, pendingActionCount} = item;\n          if (group === 'Leave Requests To Approve') {\n            this.leaveRequestCount = pendingActionCount;\n          }\n          if (group === 'Timesheets To Approve') {\n            this.timeSheetCount = pendingActionCount;\n          }\n          if (group === 'Pending Appraisal Reviews') {\n            this.reviewCount = pendingActionCount;\n          }\n          if (group === 'Pending Self Reviews') {\n            this.selfReviewCount = pendingActionCount;\n          }\n          if (group === 'Candidates To Interview') {\n            this.interviewCount = pendingActionCount;\n          }\n        });\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  },\n\n  methods: {\n    onClickPendingLeave() {\n      navigate('/leave/viewLeaveList');\n    },\n    onClickPendingTimesheet() {\n      navigate('/time/viewEmployeeTimesheet');\n    },\n    onClickPendingReview() {\n      navigate('/performance/searchEvaluatePerformanceReview');\n    },\n    onClickPendingInterview() {\n      navigate('/recruitment/viewCandidates', undefined, {\n        statusId: 4,\n      });\n    },\n    onClickSelfReview() {\n      navigate('/performance/myPerformanceReview');\n    },\n  },\n};\n</script>\n<style src=\"./my-action-summary-widget.scss\" lang=\"scss\" scoped></style>\n"],"mappings":";;;EA2BqCA,KAAK,EAAC;;;;EACHA,KAAK,EAAC;;;;EAgBTA,KAAK,EAAC;;;;EAgBTA,KAAK,EAAC;;;;EAgBFA,KAAK,EAAC;;;;EAgBPA,KAAK,EAAC;;;;;;uBAxEzCC,YAAA,CAyFcC,sBAAA;IAxFZC,IAAI,EAAC,YAAY;IAChBC,KAAK,EAAEC,QAAA,CAAAC,OAAO;IACd,YAAU,EAAED,QAAA,CAAAE,SAAS;IACrBC,OAAO,EAAEC,IAAA,CAAAC,SAAS;IAClBC,KAAK,EAAEF,IAAA,CAAAG,EAAE;;sBAFS,MA2FS,CAvFjBC,KAAA,CAAAC,SAAS,CAACC,MAAM,Q,cAA3BC,mBAAA,CAiFM,OAjFNC,UAiFM,GAhFOJ,KAAA,CAAAK,iBAAiB,Q,cAA5BF,mBAAA,CAeM,OAfNG,UAeM,GAdJC,YAAA,CAMEC,0BAAA;MALArB,KAAK,EAAC,kBAAkB;MACxBsB,IAAI,EAAC,eAAe;MACpB,WAAS,EAAC,KAAK;MACf,cAAY,EAAC,SAAS;MACrBC,OAAK,EAAElB,QAAA,CAAAmB;8BAEVJ,YAAA,CAMWK,mBAAA;MANDC,GAAG,EAAC,GAAG;MAAEH,OAAK,EAAElB,QAAA,CAAAmB;;wBACxB,MAIE,C,kCAHAf,IAAA,CAAAG,EAAE;6BAA2EC,KAAA,CAAAK;;;2DAMxEL,KAAA,CAAAc,cAAc,Q,cAAzBX,mBAAA,CAeM,OAfNY,UAeM,GAdJR,YAAA,CAMEC,0BAAA;MALArB,KAAK,EAAC,kBAAkB;MACxBsB,IAAI,EAAC,SAAS;MACd,WAAS,EAAC,KAAK;MACf,cAAY,EAAC,MAAM;MAClBC,OAAK,EAAElB,QAAA,CAAAwB;8BAEVT,YAAA,CAMWK,mBAAA;MANDC,GAAG,EAAC,GAAG;MAAEH,OAAK,EAAElB,QAAA,CAAAwB;;wBACxB,MAIE,C,kCAHApB,IAAA,CAAAG,EAAE;6BAAwEC,KAAA,CAAAc;;;2DAMrEd,KAAA,CAAAiB,WAAW,Q,cAAtBd,mBAAA,CAeM,OAfNe,UAeM,GAdJX,YAAA,CAMEC,0BAAA;MALArB,KAAK,EAAC,kBAAkB;MACxBsB,IAAI,EAAC,YAAY;MACjB,WAAS,EAAC,KAAK;MACf,cAAY,EAAC,QAAQ;MACpBC,OAAK,EAAElB,QAAA,CAAA2B;8BAEVZ,YAAA,CAMWK,mBAAA;MANDC,GAAG,EAAC,GAAG;MAAEH,OAAK,EAAElB,QAAA,CAAA2B;;wBACxB,MAIE,C,kCAHAvB,IAAA,CAAAG,EAAE;6BAAkFC,KAAA,CAAAiB;;;2DAM/EjB,KAAA,CAAAoB,eAAe,Q,cAA1BjB,mBAAA,CAeM,OAfNkB,UAeM,GAdJd,YAAA,CAMEC,0BAAA;MALArB,KAAK,EAAC,kBAAkB;MACxBsB,IAAI,EAAC,YAAY;MACjB,WAAS,EAAC,KAAK;MACf,cAAY,EAAC,QAAQ;MACpBC,OAAK,EAAElB,QAAA,CAAA2B;8BAEVZ,YAAA,CAMWK,mBAAA;MANDC,GAAG,EAAC,GAAG;MAAEH,OAAK,EAAElB,QAAA,CAAA8B;;wBACxB,MAIE,C,kCAHA1B,IAAA,CAAAG,EAAE;6BAAyEC,KAAA,CAAAoB;;;2DAMtEpB,KAAA,CAAAuB,cAAc,Q,cAAzBpB,mBAAA,CAeM,OAfNqB,UAeM,GAdJjB,YAAA,CAMEC,0BAAA;MALArB,KAAK,EAAC,kBAAkB;MACxBsB,IAAI,EAAC,WAAW;MAChB,WAAS,EAAC,KAAK;MACf,cAAY,EAAC,MAAM;MAClBC,OAAK,EAAElB,QAAA,CAAAiC;8BAEVlB,YAAA,CAMWK,mBAAA;MANDC,GAAG,EAAC,GAAG;MAAEH,OAAK,EAAElB,QAAA,CAAAiC;;wBACxB,MAIE,C,kCAHA7B,IAAA,CAAAG,EAAE;6BAAiFC,KAAA,CAAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
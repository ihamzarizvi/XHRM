{"ast":null,"code":"import PostStatsModal from '@/XHRMBuzzPlugin/components/PostStatsModal.vue';\nimport { clickOutsideDirective, OxdIcon } from '@ohrm/oxd';\nexport default {\n  name: 'PostStats',\n  components: {\n    'oxd-icon': OxdIcon,\n    'post-stats-modal': PostStatsModal\n  },\n  directives: {\n    'click-outside': clickOutsideDirective\n  },\n  props: {\n    post: {\n      type: Object,\n      required: true\n    },\n    mobile: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['comment'],\n  data() {\n    return {\n      showLikeList: false,\n      showSharesList: false\n    };\n  },\n  computed: {\n    likesCount() {\n      return this.$t('buzz.n_like', {\n        likesCount: this.post.stats?.numOfLikes || 0\n      });\n    },\n    sharesCount() {\n      if (this.post.stats?.numOfShares === null) return null;\n      return this.$t('buzz.n_share', {\n        shareCount: this.post.stats?.numOfShares || 0\n      });\n    },\n    commentsCount() {\n      return this.$t('buzz.n_comment', {\n        commentCount: this.post.stats?.numOfComments || 0\n      });\n    },\n    likesClasses() {\n      return {\n        'XHRM-buzz-stats-active': this.post.stats?.numOfLikes > 0\n      };\n    },\n    sharesClasses() {\n      return {\n        'XHRM-buzz-stats-active': this.post.stats?.numOfShares > 0\n      };\n    }\n  },\n  methods: {\n    onShowComments() {\n      this.$emit('comment');\n    },\n    onShowLikeList() {\n      this.showSharesList = false;\n      if (!this.post.stats?.numOfLikes) return;\n      this.showLikeList = true;\n    },\n    onShowSharesList() {\n      this.showLikeList = false;\n      if (!this.post.stats?.numOfShares) return;\n      this.showSharesList = true;\n    },\n    onClose() {\n      this.showLikeList = false;\n      this.showSharesList = false;\n    }\n  }\n};","map":{"version":3,"names":["PostStatsModal","clickOutsideDirective","OxdIcon","name","components","directives","props","post","type","Object","required","mobile","Boolean","default","emits","data","showLikeList","showSharesList","computed","likesCount","$t","stats","numOfLikes","sharesCount","numOfShares","shareCount","commentsCount","commentCount","numOfComments","likesClasses","sharesClasses","methods","onShowComments","$emit","onShowLikeList","onShowSharesList","onClose"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMBuzzPlugin\\components\\PostStats.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div v-click-outside=\"onClose\" class=\"XHRM-buzz-stats\">\n    <div class=\"XHRM-buzz-stats-row\">\n      <oxd-icon name=\"heart-fill\" class=\"XHRM-buzz-stats-like-icon\"></oxd-icon>\n      <oxd-text tag=\"p\" :class=\"likesClasses\" @click=\"onShowLikeList\">\n        {{ likesCount }}\n      </oxd-text>\n      <post-stats-modal\n        v-if=\"showLikeList\"\n        type=\"likes\"\n        icon=\"heart-fill\"\n        :mobile=\"mobile\"\n        :post-id=\"post.id\"\n        @close=\"onClose\"\n      ></post-stats-modal>\n    </div>\n    <div class=\"XHRM-buzz-stats-row\">\n      <oxd-text tag=\"p\" class=\"XHRM-buzz-stats-active\" @click=\"onShowComments\">\n        {{ commentsCount }}\n      </oxd-text>\n      <template v-if=\"sharesCount\">\n        &sbquo;&nbsp;\n        <oxd-text tag=\"p\" :class=\"sharesClasses\" @click=\"onShowSharesList\">\n          {{ sharesCount }}\n        </oxd-text>\n      </template>\n      <post-stats-modal\n        v-if=\"showSharesList\"\n        type=\"shares\"\n        icon=\"share-fill\"\n        :mobile=\"mobile\"\n        :post-id=\"post.post.id\"\n        @close=\"onClose\"\n      ></post-stats-modal>\n    </div>\n  </div>\n</template>\n<script>\nimport PostStatsModal from '@/XHRMBuzzPlugin/components/PostStatsModal.vue';\nimport {clickOutsideDirective, OxdIcon} from '@ohrm/oxd';\n\nexport default {\n  name: 'PostStats',\n\n  components: {\n    'oxd-icon': OxdIcon,\n    'post-stats-modal': PostStatsModal,\n  },\n\n  directives: {\n    'click-outside': clickOutsideDirective,\n  },\n\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n    mobile: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  emits: ['comment'],\n\n  data() {\n    return {\n      showLikeList: false,\n      showSharesList: false,\n    };\n  },\n\n  computed: {\n    likesCount() {\n      return this.$t('buzz.n_like', {\n        likesCount: this.post.stats?.numOfLikes || 0,\n      });\n    },\n    sharesCount() {\n      if (this.post.stats?.numOfShares === null) return null;\n      return this.$t('buzz.n_share', {\n        shareCount: this.post.stats?.numOfShares || 0,\n      });\n    },\n    commentsCount() {\n      return this.$t('buzz.n_comment', {\n        commentCount: this.post.stats?.numOfComments || 0,\n      });\n    },\n    likesClasses() {\n      return {\n        'XHRM-buzz-stats-active': this.post.stats?.numOfLikes > 0,\n      };\n    },\n    sharesClasses() {\n      return {\n        'XHRM-buzz-stats-active': this.post.stats?.numOfShares > 0,\n      };\n    },\n  },\n\n  methods: {\n    onShowComments() {\n      this.$emit('comment');\n    },\n    onShowLikeList() {\n      this.showSharesList = false;\n      if (!this.post.stats?.numOfLikes) return;\n      this.showLikeList = true;\n    },\n    onShowSharesList() {\n      this.showLikeList = false;\n      if (!this.post.stats?.numOfShares) return;\n      this.showSharesList = true;\n    },\n    onClose() {\n      this.showLikeList = false;\n      this.showSharesList = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" src=\"./post-stats.scss\" scoped></style>\n"],"mappings":"AAyDA,OAAOA,cAAa,MAAO,gDAAgD;AAC3E,SAAQC,qBAAqB,EAAEC,OAAO,QAAO,WAAW;AAExD,eAAe;EACbC,IAAI,EAAE,WAAW;EAEjBC,UAAU,EAAE;IACV,UAAU,EAAEF,OAAO;IACnB,kBAAkB,EAAEF;EACtB,CAAC;EAEDK,UAAU,EAAE;IACV,eAAe,EAAEJ;EACnB,CAAC;EAEDK,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,MAAM,EAAE;MACNH,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE;IACX;EACF,CAAC;EAEDC,KAAK,EAAE,CAAC,SAAS,CAAC;EAElBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,KAAK;MACnBC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EAEDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAO,IAAI,CAACC,EAAE,CAAC,aAAa,EAAE;QAC5BD,UAAU,EAAE,IAAI,CAACZ,IAAI,CAACc,KAAK,EAAEC,UAAS,IAAK;MAC7C,CAAC,CAAC;IACJ,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAAChB,IAAI,CAACc,KAAK,EAAEG,WAAU,KAAM,IAAI,EAAE,OAAO,IAAI;MACtD,OAAO,IAAI,CAACJ,EAAE,CAAC,cAAc,EAAE;QAC7BK,UAAU,EAAE,IAAI,CAAClB,IAAI,CAACc,KAAK,EAAEG,WAAU,IAAK;MAC9C,CAAC,CAAC;IACJ,CAAC;IACDE,aAAaA,CAAA,EAAG;MACd,OAAO,IAAI,CAACN,EAAE,CAAC,gBAAgB,EAAE;QAC/BO,YAAY,EAAE,IAAI,CAACpB,IAAI,CAACc,KAAK,EAAEO,aAAY,IAAK;MAClD,CAAC,CAAC;IACJ,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,OAAO;QACL,wBAAwB,EAAE,IAAI,CAACtB,IAAI,CAACc,KAAK,EAAEC,UAAS,GAAI;MAC1D,CAAC;IACH,CAAC;IACDQ,aAAaA,CAAA,EAAG;MACd,OAAO;QACL,wBAAwB,EAAE,IAAI,CAACvB,IAAI,CAACc,KAAK,EAAEG,WAAU,GAAI;MAC3D,CAAC;IACH;EACF,CAAC;EAEDO,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACf,IAAI,CAACC,KAAK,CAAC,SAAS,CAAC;IACvB,CAAC;IACDC,cAAcA,CAAA,EAAG;MACf,IAAI,CAACjB,cAAa,GAAI,KAAK;MAC3B,IAAI,CAAC,IAAI,CAACV,IAAI,CAACc,KAAK,EAAEC,UAAU,EAAE;MAClC,IAAI,CAACN,YAAW,GAAI,IAAI;IAC1B,CAAC;IACDmB,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAACnB,YAAW,GAAI,KAAK;MACzB,IAAI,CAAC,IAAI,CAACT,IAAI,CAACc,KAAK,EAAEG,WAAW,EAAE;MACnC,IAAI,CAACP,cAAa,GAAI,IAAI;IAC5B,CAAC;IACDmB,OAAOA,CAAA,EAAG;MACR,IAAI,CAACpB,YAAW,GAAI,KAAK;MACzB,IAAI,CAACC,cAAa,GAAI,KAAK;IAC7B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
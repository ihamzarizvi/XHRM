{"ast":null,"code":"import { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-directory-card-rounded-body\"\n};\nconst _hoisted_2 = {\n  class: \"XHRM-directory-card-icon\"\n};\nconst _hoisted_3 = {\n  class: \"XHRM-directory-card-icon\"\n};\nconst _hoisted_4 = {\n  class: \"XHRM-directory-card-hover-body\"\n};\nconst _hoisted_5 = {\n  class: \"XHRM-directory-card-hover-body XHRM-directory-card-hover-icon\"\n};\nconst _hoisted_6 = {\n  class: \"XHRM-directory-card-hover-body\"\n};\nconst _hoisted_7 = {\n  class: \"XHRM-directory-card-hover-body XHRM-directory-card-hover-icon\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_icon_button = _resolveComponent(\"oxd-icon-button\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_qr_code = _resolveComponent(\"qr-code\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_withDirectives(_createVNode(_component_oxd_divider, null, null, 512), [[_vShow, $data.employeeWorkEmail || $data.employeeWorkTelephone]]), _withDirectives(_createElementVNode(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_oxd_icon_button, {\n    \"display-type\": \"success\",\n    name: \"telephone-fill\",\n    onClick: _withModifiers($options.openClientTelephone, [\"stop\"])\n  }, null, 8, [\"onClick\"])], 512), [[_vShow, $data.employeeWorkTelephone]]), _withDirectives(_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_oxd_icon_button, {\n    \"display-type\": \"danger\",\n    name: \"envelope-fill\",\n    onClick: _withModifiers($options.openClientEmail, [\"stop\"])\n  }, null, 8, [\"onClick\"])], 512), [[_vShow, $data.employeeWorkEmail]])], 512), [[_vShow, $data.employeeWorkEmail || $data.employeeWorkTelephone]]), _withDirectives(_createElementVNode(\"div\", {\n    class: \"XHRM-directory-card-hover\",\n    onMouseleave: _cache[0] || (_cache[0] = $event => $data.showTelephoneClip = false),\n    onMouseover: _cache[1] || (_cache[1] = $event => $data.showTelephoneClip = true)\n  }, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_oxd_text, {\n    type: \"toast-message\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('pim.work_telephone')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_text, {\n    ref: \"cloneTelephone\",\n    type: \"toast-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.employeeWorkTelephone), 1)]),\n    _: 1\n  }, 512)]), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createVNode(_component_oxd_icon_button, {\n    name: \"files\",\n    onClick: _withModifiers($options.copyTelephone, [\"stop\"])\n  }, null, 8, [\"onClick\"]), [[_vShow, $data.showTelephoneClip || $props.isMobile]])])], 544), [[_vShow, $data.employeeWorkTelephone]]), _withDirectives(_createVNode(_component_oxd_divider, null, null, 512), [[_vShow, $data.employeeWorkTelephone]]), _withDirectives(_createElementVNode(\"div\", {\n    class: \"XHRM-directory-card-hover\",\n    onMouseleave: _cache[2] || (_cache[2] = $event => $data.showEmailClip = false),\n    onMouseover: _cache[3] || (_cache[3] = $event => $data.showEmailClip = true)\n  }, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_oxd_text, {\n    type: \"toast-message\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.work_email')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_text, {\n    ref: \"cloneEmail\",\n    type: \"toast-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.employeeWorkEmail), 1)]),\n    _: 1\n  }, 512)]), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createVNode(_component_oxd_icon_button, {\n    name: \"files\",\n    onClick: _withModifiers($options.copyEmail, [\"stop\"])\n  }, null, 8, [\"onClick\"]), [[_vShow, $data.showEmailClip || $props.isMobile]])])], 544), [[_vShow, $data.employeeWorkEmail]]), _withDirectives(_createVNode(_component_oxd_divider, null, null, 512), [[_vShow, $data.employeeWorkEmail]]), $data.qrPayload && ($data.employeeWorkTelephone || $data.employeeWorkEmail) ? (_openBlock(), _createBlock(_component_qr_code, {\n    key: 0,\n    value: $data.qrPayload\n  }, null, 8, [\"value\"])) : _createCommentVNode(\"\", true)], 64);\n}","map":{"version":3,"names":["class","_createVNode","_component_oxd_divider","$data","employeeWorkEmail","employeeWorkTelephone","_createElementVNode","_hoisted_1","_hoisted_2","_component_oxd_icon_button","name","onClick","_withModifiers","$options","openClientTelephone","_hoisted_3","openClientEmail","onMouseleave","_cache","$event","showTelephoneClip","onMouseover","_hoisted_4","_component_oxd_text","type","_ctx","$t","ref","_hoisted_5","copyTelephone","$props","isMobile","showEmailClip","_hoisted_6","_hoisted_7","copyEmail","qrPayload","_createBlock","_component_qr_code","value"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMCorporateDirectoryPlugin\\components\\EmployeeDetails.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <oxd-divider\n    v-show=\"employeeWorkEmail || employeeWorkTelephone\"\n  ></oxd-divider>\n  <div\n    v-show=\"employeeWorkEmail || employeeWorkTelephone\"\n    class=\"XHRM-directory-card-rounded-body\"\n  >\n    <div v-show=\"employeeWorkTelephone\" class=\"XHRM-directory-card-icon\">\n      <oxd-icon-button\n        display-type=\"success\"\n        name=\"telephone-fill\"\n        @click.stop=\"openClientTelephone\"\n      ></oxd-icon-button>\n    </div>\n    <div v-show=\"employeeWorkEmail\" class=\"XHRM-directory-card-icon\">\n      <oxd-icon-button\n        display-type=\"danger\"\n        name=\"envelope-fill\"\n        @click.stop=\"openClientEmail\"\n      ></oxd-icon-button>\n    </div>\n  </div>\n  <div\n    v-show=\"employeeWorkTelephone\"\n    class=\"XHRM-directory-card-hover\"\n    @mouseleave=\"showTelephoneClip = false\"\n    @mouseover=\"showTelephoneClip = true\"\n  >\n    <div class=\"XHRM-directory-card-hover-body\">\n      <oxd-text type=\"toast-message\">{{ $t('pim.work_telephone') }}</oxd-text>\n      <oxd-text ref=\"cloneTelephone\" type=\"toast-title\">\n        {{ employeeWorkTelephone }}\n      </oxd-text>\n    </div>\n    <div\n      class=\"XHRM-directory-card-hover-body XHRM-directory-card-hover-icon\"\n    >\n      <oxd-icon-button\n        v-show=\"showTelephoneClip || isMobile\"\n        name=\"files\"\n        @click.stop=\"copyTelephone\"\n      ></oxd-icon-button>\n    </div>\n  </div>\n  <oxd-divider v-show=\"employeeWorkTelephone\"></oxd-divider>\n  <div\n    v-show=\"employeeWorkEmail\"\n    class=\"XHRM-directory-card-hover\"\n    @mouseleave=\"showEmailClip = false\"\n    @mouseover=\"showEmailClip = true\"\n  >\n    <div class=\"XHRM-directory-card-hover-body\">\n      <oxd-text type=\"toast-message\">{{ $t('general.work_email') }}</oxd-text>\n      <oxd-text ref=\"cloneEmail\" type=\"toast-title\">\n        {{ employeeWorkEmail }}\n      </oxd-text>\n    </div>\n    <div\n      class=\"XHRM-directory-card-hover-body XHRM-directory-card-hover-icon\"\n    >\n      <oxd-icon-button\n        v-show=\"showEmailClip || isMobile\"\n        name=\"files\"\n        @click.stop=\"copyEmail\"\n      ></oxd-icon-button>\n    </div>\n  </div>\n  <oxd-divider v-show=\"employeeWorkEmail\"></oxd-divider>\n  <qr-code\n    v-if=\"qrPayload && (employeeWorkTelephone || employeeWorkEmail)\"\n    :value=\"qrPayload\"\n  ></qr-code>\n</template>\n\n<script>\nimport {OxdDivider} from '@ohrm/oxd';\nimport {APIService} from '@/core/util/services/api.service';\nimport QRCode from '@/XHRMCorporateDirectoryPlugin/components/QRCode';\n\nexport default {\n  name: 'EmployeeDetails',\n  components: {\n    'qr-code': QRCode,\n    'oxd-divider': OxdDivider,\n  },\n  props: {\n    employeeId: {\n      type: Number,\n      required: true,\n    },\n    isMobile: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup() {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      '/api/v2/directory/employees',\n    );\n    return {\n      http,\n    };\n  },\n  data() {\n    return {\n      employeeWorkTelephone: null,\n      employeeWorkEmail: null,\n      showTelephoneClip: false,\n      showEmailClip: false,\n      toGoEmail: null,\n      qrPayload: null,\n      employeeName: null,\n    };\n  },\n  watch: {\n    employeeId: function () {\n      this.callEmployeeDetailsApi();\n    },\n  },\n  beforeMount() {\n    this.callEmployeeDetailsApi();\n  },\n  methods: {\n    openClientTelephone() {\n      window.location.href = 'tel:' + this.employeeWorkTelephone;\n    },\n    openClientEmail() {\n      window.location.href = 'mailto:' + this.employeeWorkEmail;\n    },\n    copyEmail() {\n      navigator.clipboard?.writeText(this.employeeWorkEmail);\n    },\n    copyTelephone() {\n      navigator.clipboard?.writeText(this.employeeWorkTelephone);\n    },\n    callEmployeeDetailsApi() {\n      this.http.get(this.employeeId, {model: 'detailed'}).then((response) => {\n        const {data} = response.data;\n        this.employeeName = {\n          firstName: data.firstName,\n          middleName: data.middleName,\n          lastName: data.lastName,\n        };\n        this.employeeWorkEmail = data.contactInfo?.workEmail;\n        this.employeeWorkTelephone = data.contactInfo?.workTelephone;\n        this.generateQrPayload();\n      });\n    },\n    generateQrPayload() {\n      let content = '';\n      content += `N:${this.employeeName?.lastName || ''};`;\n      content += `${this.employeeName?.firstName || ''};`;\n      content += `${this.employeeName?.middleName || ''};\\n`;\n      if (this.employeeWorkTelephone)\n        content += `TEL;CELL:${this.employeeWorkTelephone}\\n`;\n      if (this.employeeWorkEmail)\n        content += `EMAIL;WORK;INTERNET:${this.employeeWorkEmail}\\n`;\n\n      this.qrPayload = `BEGIN:VCARD\\nVERSION:3.0\\n${content}END:VCARD\\n`;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.XHRM-directory-card {\n  height: auto;\n  overflow: hidden;\n  padding: 0.5rem 1rem;\n  @include oxd-respond-to('md') {\n    min-height: 280px;\n  }\n\n  &-rounded-body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 1rem;\n    margin: 1rem 8px 1rem 0;\n    border-radius: 1.2rem;\n    width: auto;\n    height: 64px;\n    box-shadow: 5px 5px 5px 5px $oxd-background-white-shadow-color;\n  }\n\n  &-hover {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.25rem 0.75rem;\n    border-radius: 0.5rem;\n    margin: auto;\n    @include oxd-respond-to('md') {\n      width: auto;\n    }\n\n    &-body {\n      display: block;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      word-wrap: break-word;\n    }\n\n    &-icon {\n      color: $oxd-interface-gray-darken-1-color;\n      font-size: 14px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: center;\n    }\n\n    &:hover {\n      background-color: $oxd-background-white-shadow-color;\n    }\n  }\n\n  &-icon {\n    margin: 0 0.5rem 0 0;\n    color: $oxd-interface-gray-darken-1-color;\n    font-size: 24px;\n    display: flex;\n    justify-content: center;\n  }\n}\n</style>\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
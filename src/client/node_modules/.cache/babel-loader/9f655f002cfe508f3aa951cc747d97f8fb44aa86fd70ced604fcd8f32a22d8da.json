{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-background-container\"\n};\nconst _hoisted_2 = {\n  class: \"XHRM-card-container\"\n};\nconst _hoisted_3 = {\n  class: \"send-method-div\"\n};\nconst _hoisted_4 = {\n  class: \"XHRM-optional-field-row\"\n};\nconst _hoisted_5 = {\n  class: \"XHRM-optional-field-row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_input_group = _resolveComponent(\"oxd-input-group\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_oxd_switch_input = _resolveComponent(\"oxd-switch-input\");\n  const _component_required_text = _resolveComponent(\"required-text\");\n  const _component_oxd_button = _resolveComponent(\"oxd-button\");\n  const _component_submit_button = _resolveComponent(\"submit-button\");\n  const _component_oxd_form_actions = _resolveComponent(\"oxd-form-actions\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_oxd_text, {\n    class: \"XHRM-main-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('admin.email_configuration')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form, {\n    loading: $data.isLoading,\n    onSubmitValid: $options.onSave\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 2,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.emailConfiguration.sentAs,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.emailConfiguration.sentAs = $event),\n            label: _ctx.$t('admin.mail_sent_as'),\n            rules: $data.rules.sentAs,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_group, {\n            label: _ctx.$t('admin.sending_method')\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.emailConfiguration.mailType,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.emailConfiguration.mailType = $event),\n              type: \"radio\",\n              \"option-label\": _ctx.$t('admin.secure_smtp'),\n              value: \"smtps\"\n            }, null, 8, [\"modelValue\", \"option-label\"]), _createVNode(_component_oxd_input_field, {\n              modelValue: $data.emailConfiguration.mailType,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.emailConfiguration.mailType = $event),\n              type: \"radio\",\n              \"option-label\": _ctx.$t('admin.smtp'),\n              value: \"smtp\"\n            }, null, 8, [\"modelValue\", \"option-label\"]), _createVNode(_component_oxd_input_field, {\n              modelValue: $data.emailConfiguration.mailType,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.emailConfiguration.mailType = $event),\n              type: \"radio\",\n              \"option-label\": _ctx.$t('admin.sendmail'),\n              value: \"sendmail\"\n            }, null, 8, [\"modelValue\", \"option-label\"])])]),\n            _: 1\n          }, 8, [\"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), $data.emailConfiguration.mailType === 'sendmail' ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 0\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 2,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_group, {\n            label: _ctx.$t('admin.path_to_sendmail')\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_text, {\n              tag: \"p\",\n              class: \"sendmail-path-value\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString($data.emailConfiguration.pathToSendmail), 1)]),\n              _: 1\n            })]),\n            _: 1\n          }, 8, [\"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), $data.emailConfiguration.mailType !== 'sendmail' ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 1\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 2,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.emailConfiguration.smtpHost,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.emailConfiguration.smtpHost = $event),\n            label: _ctx.$t('admin.smtp_host'),\n            rules: $data.rules.smtpHost,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.emailConfiguration.smtpPort,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.emailConfiguration.smtpPort = $event),\n            label: _ctx.$t('admin.smtp_port'),\n            rules: $data.rules.smtpPort\n          }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), $data.emailConfiguration.mailType !== 'sendmail' ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 2\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 2,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_group, {\n            label: _ctx.$t('admin.use_smtp_authentication'),\n            classes: {\n              wrapper: '--status-grouped-field'\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.emailConfiguration.smtpAuthType,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.emailConfiguration.smtpAuthType = $event),\n              type: \"radio\",\n              \"option-label\": _ctx.$t('general.yes'),\n              value: \"login\"\n            }, null, 8, [\"modelValue\", \"option-label\"]), _createVNode(_component_oxd_input_field, {\n              modelValue: $data.emailConfiguration.smtpAuthType,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.emailConfiguration.smtpAuthType = $event),\n              type: \"radio\",\n              \"option-label\": _ctx.$t('general.no'),\n              value: \"none\"\n            }, null, 8, [\"modelValue\", \"option-label\"])]),\n            _: 1\n          }, 8, [\"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), $data.emailConfiguration.mailType !== 'sendmail' && $data.emailConfiguration.smtpAuthType === 'login' ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 3\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 2,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.emailConfiguration.smtpUsername,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.emailConfiguration.smtpUsername = $event),\n            label: _ctx.$t('admin.smtp_user'),\n            rules: $data.rules.smtpUsername,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.emailConfiguration.smtpPassword,\n            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.emailConfiguration.smtpPassword = $event),\n            label: _ctx.$t('admin.smtp_password'),\n            rules: $data.rules.smtpPassword,\n            type: \"password\",\n            placeholder: $data.passwordPlaceHolder,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"rules\", \"placeholder\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), $data.emailConfiguration.mailType !== 'sendmail' ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 4,\n      class: \"XHRM-input-field-bottom-space\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"organization-name-container\"\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_oxd_text, {\n            tag: \"p\",\n            class: \"XHRM-optional-field-label\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('admin.tls')), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_switch_input, {\n            modelValue: $data.useTLSSecureConnection,\n            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.useTLSSecureConnection = $event)\n          }, null, 8, [\"modelValue\"])])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), $data.emailConfiguration.mailType !== 'sendmail' ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 5\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 1,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"organization-name-container\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_text, {\n            tag: \"p\",\n            class: \"tls-hint\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('admin.optional_the_mail_server_requires_the_use_of_tls_security')), 1)]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"organization-name-container\"\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_oxd_text, {\n            tag: \"p\",\n            class: \"XHRM-optional-field-label\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('admin.send_test_email')), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_switch_input, {\n            modelValue: $data.sendTestMailEditable,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.sendTestMailEditable = $event)\n          }, null, 8, [\"modelValue\"])])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), $data.sendTestMailEditable ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n      key: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 2,\n        class: \"XHRM-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.emailConfiguration.testEmailAddress,\n            \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.emailConfiguration.testEmailAddress = $event),\n            label: _ctx.$t('admin.test_email_address'),\n            rules: $data.rules.testEmailAddress,\n            disabled: !$data.sendTestMailEditable,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })) : _createCommentVNode(\"\", true), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_actions, null, {\n      default: _withCtx(() => [_createVNode(_component_required_text), _createVNode(_component_oxd_button, {\n        \"display-type\": \"ghost\",\n        label: _ctx.$t('general.reset'),\n        onClick: $options.onReset\n      }, null, 8, [\"label\", \"onClick\"]), _createVNode(_component_submit_button)]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"loading\", \"onSubmitValid\"])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_oxd_text","_ctx","$t","_component_oxd_divider","_component_oxd_form","loading","$data","isLoading","onSubmitValid","$options","onSave","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_component_oxd_input_field","emailConfiguration","sentAs","$event","label","rules","required","_component_oxd_input_group","_hoisted_3","mailType","type","value","_createBlock","key","tag","pathToSendmail","smtpHost","smtpPort","classes","wrapper","smtpAuthType","smtpUsername","smtpPassword","placeholder","passwordPlaceHolder","_hoisted_4","_component_oxd_switch_input","useTLSSecureConnection","_hoisted_5","sendTestMailEditable","testEmailAddress","disabled","_component_oxd_form_actions","_component_required_text","_component_oxd_button","onClick","onReset","_component_submit_button"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMAdminPlugin\\pages\\emailConfiguration\\ViewEmailConfiguration.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"XHRM-background-container\">\n    <div class=\"XHRM-card-container\">\n      <oxd-text class=\"XHRM-main-title\">\n        {{ $t('admin.email_configuration') }}\n      </oxd-text>\n\n      <oxd-divider />\n\n      <oxd-form :loading=\"isLoading\" @submit-valid=\"onSave\">\n        <oxd-form-row>\n          <oxd-grid :cols=\"2\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"emailConfiguration.sentAs\"\n                :label=\"$t('admin.mail_sent_as')\"\n                :rules=\"rules.sentAs\"\n                required\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-group :label=\"$t('admin.sending_method')\">\n                <div class=\"send-method-div\">\n                  <oxd-input-field\n                    v-model=\"emailConfiguration.mailType\"\n                    type=\"radio\"\n                    :option-label=\"$t('admin.secure_smtp')\"\n                    value=\"smtps\"\n                  />\n                  <oxd-input-field\n                    v-model=\"emailConfiguration.mailType\"\n                    type=\"radio\"\n                    :option-label=\"$t('admin.smtp')\"\n                    value=\"smtp\"\n                  />\n                  <oxd-input-field\n                    v-model=\"emailConfiguration.mailType\"\n                    type=\"radio\"\n                    :option-label=\"$t('admin.sendmail')\"\n                    value=\"sendmail\"\n                  />\n                </div>\n              </oxd-input-group>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row v-if=\"emailConfiguration.mailType === 'sendmail'\">\n          <oxd-grid :cols=\"2\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-group :label=\"$t('admin.path_to_sendmail')\">\n                <oxd-text tag=\"p\" class=\"sendmail-path-value\">\n                  {{ emailConfiguration.pathToSendmail }}\n                </oxd-text>\n              </oxd-input-group>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row v-if=\"emailConfiguration.mailType !== 'sendmail'\">\n          <oxd-grid :cols=\"2\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"emailConfiguration.smtpHost\"\n                :label=\"$t('admin.smtp_host')\"\n                :rules=\"rules.smtpHost\"\n                required\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"emailConfiguration.smtpPort\"\n                :label=\"$t('admin.smtp_port')\"\n                :rules=\"rules.smtpPort\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row v-if=\"emailConfiguration.mailType !== 'sendmail'\">\n          <oxd-grid :cols=\"2\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-group\n                :label=\"$t('admin.use_smtp_authentication')\"\n                :classes=\"{wrapper: '--status-grouped-field'}\"\n              >\n                <oxd-input-field\n                  v-model=\"emailConfiguration.smtpAuthType\"\n                  type=\"radio\"\n                  :option-label=\"$t('general.yes')\"\n                  value=\"login\"\n                />\n                <oxd-input-field\n                  v-model=\"emailConfiguration.smtpAuthType\"\n                  type=\"radio\"\n                  :option-label=\"$t('general.no')\"\n                  value=\"none\"\n                />\n              </oxd-input-group>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row\n          v-if=\"\n            emailConfiguration.mailType !== 'sendmail' &&\n            emailConfiguration.smtpAuthType === 'login'\n          \"\n        >\n          <oxd-grid :cols=\"2\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"emailConfiguration.smtpUsername\"\n                :label=\"$t('admin.smtp_user')\"\n                :rules=\"rules.smtpUsername\"\n                required\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"emailConfiguration.smtpPassword\"\n                :label=\"$t('admin.smtp_password')\"\n                :rules=\"rules.smtpPassword\"\n                type=\"password\"\n                :placeholder=\"passwordPlaceHolder\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row\n          v-if=\"emailConfiguration.mailType !== 'sendmail'\"\n          class=\"XHRM-input-field-bottom-space\"\n        >\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item class=\"organization-name-container\">\n              <div class=\"XHRM-optional-field-row\">\n                <oxd-text tag=\"p\" class=\"XHRM-optional-field-label\">\n                  {{ $t('admin.tls') }}\n                </oxd-text>\n                <oxd-switch-input v-model=\"useTLSSecureConnection\" />\n              </div>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row v-if=\"emailConfiguration.mailType !== 'sendmail'\">\n          <oxd-grid :cols=\"1\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item class=\"organization-name-container\">\n              <oxd-text tag=\"p\" class=\"tls-hint\">\n                {{\n                  $t(\n                    'admin.optional_the_mail_server_requires_the_use_of_tls_security',\n                  )\n                }}\n              </oxd-text>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-form-row>\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item class=\"organization-name-container\">\n              <div class=\"XHRM-optional-field-row\">\n                <oxd-text tag=\"p\" class=\"XHRM-optional-field-label\">\n                  {{ $t('admin.send_test_email') }}\n                </oxd-text>\n                <oxd-switch-input v-model=\"sendTestMailEditable\" />\n              </div>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row v-if=\"sendTestMailEditable\">\n          <oxd-grid :cols=\"2\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"emailConfiguration.testEmailAddress\"\n                :label=\"$t('admin.test_email_address')\"\n                :rules=\"rules.testEmailAddress\"\n                :disabled=\"!sendTestMailEditable\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n\n        <oxd-form-actions>\n          <required-text />\n          <oxd-button\n            display-type=\"ghost\"\n            :label=\"$t('general.reset')\"\n            @click=\"onReset\"\n          />\n          <submit-button />\n        </oxd-form-actions>\n      </oxd-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {APIService} from '@ohrm/core/util/services/api.service';\nimport {\n  required,\n  validEmailFormat,\n  shouldNotExceedCharLength,\n} from '@ohrm/core/util/validation/rules';\nimport {OxdSwitchInput} from '@ohrm/oxd';\n\nexport default {\n  components: {\n    'oxd-switch-input': OxdSwitchInput,\n  },\n  props: {\n    pathToSendmail: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      '/api/v2/admin/email-configuration',\n    );\n    return {\n      http,\n    };\n  },\n\n  data() {\n    return {\n      passwordPlaceHolder: '',\n      defaultValues: {\n        smtpSecurityType: 'tls',\n      },\n      useTLSSecureConnection: true,\n      sendTestMailEditable: false,\n      isLoading: false,\n      emailConfiguration: {\n        mailType: '',\n        sentAs: '',\n        pathToSendmail: this.pathToSendmail,\n        smtpHost: '',\n        smtpPort: null,\n        smtpUsername: '',\n        smtpPassword: null,\n        smtpAuthType: '',\n        smtpSecurityType: '',\n        testEmailAddress: '',\n      },\n      initialEmailConfiguration: {\n        ...this.emailConfiguration,\n        useTLSSecureConnection: false,\n      },\n      rules: {\n        mailType: [required, shouldNotExceedCharLength(50)],\n        sentAs: [required, shouldNotExceedCharLength(100), validEmailFormat],\n        smtpHost: [required, shouldNotExceedCharLength(100)],\n        smtpPort: [shouldNotExceedCharLength(10)],\n        smtpUsername: [required, shouldNotExceedCharLength(100)],\n        smtpPassword: [shouldNotExceedCharLength(100)],\n        smtpAuthType: [shouldNotExceedCharLength(50)],\n        smtpSecurityType: [shouldNotExceedCharLength(50)],\n        testEmailAddress: [\n          required,\n          shouldNotExceedCharLength(250),\n          validEmailFormat,\n        ],\n      },\n    };\n  },\n  created() {\n    this.isLoading = true;\n    this.http\n      .request({\n        method: 'GET',\n        url: '/api/v2/admin/email-configuration',\n      })\n      .then((response) => {\n        const {data} = response.data;\n        this.emailConfiguration.mailType = data.mailType;\n        this.emailConfiguration.sentAs = data.sentAs;\n        this.emailConfiguration.smtpHost = data.smtpHost;\n        this.emailConfiguration.smtpPort = data.smtpPort;\n        this.emailConfiguration.smtpUsername = data.smtpUsername;\n        this.passwordPlaceHolder = data.smtpUsername ? '******' : '';\n        this.emailConfiguration.smtpAuthType = data.smtpAuthType ?? 'none';\n        this.emailConfiguration.testEmailAddress = data.testEmailAddress;\n        this.useTLSSecureConnection = data.smtpSecurityType === 'tls';\n        this.initialEmailConfiguration = {\n          ...this.emailConfiguration,\n          useTLSSecureConnection: this.useTLSSecureConnection,\n        };\n        if (!data.smtpUsername) {\n          this.rules.smtpPassword.push(required);\n        }\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  },\n\n  methods: {\n    onSave() {\n      this.isLoading = true;\n      this.http\n        .request({\n          method: 'PUT',\n          data: {\n            mailType: this.emailConfiguration.mailType,\n            sentAs: this.emailConfiguration.sentAs,\n            smtpHost: this.emailConfiguration.smtpHost,\n            smtpPort: parseInt(this.emailConfiguration.smtpPort),\n            smtpUsername:\n              this.emailConfiguration.smtpAuthType === 'login'\n                ? this.emailConfiguration.smtpUsername\n                : '',\n            smtpPassword:\n              this.emailConfiguration.smtpPassword === ''\n                ? null\n                : this.emailConfiguration.smtpPassword,\n            smtpAuthType: this.emailConfiguration.smtpAuthType,\n            smtpSecurityType: this.useTLSSecureConnection ? 'tls' : 'none',\n            testEmailAddress: this.emailConfiguration.testEmailAddress,\n          },\n        })\n        .then((response) => {\n          const testEmailStatus = response.data.meta?.testEmailStatus;\n          if (testEmailStatus === 1 && this.sendTestMailEditable) {\n            this.$toast.success({\n              title: this.$t('general.success'),\n              message: this.$t('admin.test_email_sent'),\n            });\n          } else if (testEmailStatus === 0 && this.sendTestMailEditable) {\n            this.$toast.warn({\n              title: this.$t('general.failed'),\n              message: this.$t('admin.test_email_not_sent'),\n            });\n          }\n          return this.$toast.saveSuccess();\n        })\n        .then(() => {\n          this.isLoading = false;\n        });\n    },\n    onReset() {\n      this.emailConfiguration = {...this.initialEmailConfiguration};\n      this.useTLSSecureConnection =\n        this.initialEmailConfiguration.useTLSSecureConnection;\n    },\n  },\n};\n</script>\n\n<style src=\"./email-configuration.scss\" lang=\"scss\" scoped></style>\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
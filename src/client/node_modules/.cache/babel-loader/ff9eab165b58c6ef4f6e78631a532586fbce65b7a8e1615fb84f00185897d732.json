{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, renderSlot as _renderSlot } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-container\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"XHRM-bottom-container\"\n};\nconst _hoisted_3 = {\n  class: \"XHRM-paper-container\"\n};\nconst _hoisted_4 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vacancy_card = _resolveComponent(\"vacancy-card\");\n  const _component_oxd_loading_spinner = _resolveComponent(\"oxd-loading-spinner\");\n  const _component_oxd_pagination = _resolveComponent(\"oxd-pagination\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.vacancies?.data, vacancy => {\n    return _openBlock(), _createBlock(_component_vacancy_card, {\n      key: vacancy,\n      \"vacancy-id\": vacancy.vacancyId,\n      \"vacancy-title\": vacancy.vacancyTitle,\n      \"vacancy-description\": vacancy.vacancyDescription\n    }, null, 8, [\"vacancy-id\", \"vacancy-title\", \"vacancy-description\"]);\n  }), 128)), $setup.isLoading ? (_openBlock(), _createBlock(_component_oxd_loading_spinner, {\n    key: 0,\n    class: \"XHRM-container-loader\"\n  })) : _createCommentVNode(\"\", true), $setup.showPaginator ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_oxd_pagination, {\n    current: $setup.currentPage,\n    \"onUpdate:current\": _cache[0] || (_cache[0] = $event => $setup.currentPage = $event),\n    length: $setup.pages\n  }, null, 8, [\"current\", \"length\"])])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: \"XHRM-vacancy-list-poweredby\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('recruitment.powered_by')), 1)]),\n    _: 1\n  }), _createElementVNode(\"img\", {\n    src: $setup.defaultPic,\n    alt: \"XHRM Picture\",\n    class: \"XHRM-container-img\"\n  }, null, 8, _hoisted_4), _renderSlot(_ctx.$slots, \"footer\", {}, undefined, true)])], 64);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_1","_createElementBlock","_Fragment","_renderList","$setup","vacancies","data","vacancy","_createBlock","_component_vacancy_card","key","vacancyId","vacancyTitle","vacancyDescription","isLoading","_component_oxd_loading_spinner","showPaginator","_hoisted_2","_createVNode","_component_oxd_pagination","current","currentPage","$event","length","pages","_hoisted_3","_component_oxd_text","tag","_ctx","$t","src","defaultPic","alt","_renderSlot","$slots","undefined"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMRecruitmentPlugin\\pages\\VacancyList.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"XHRM-container\">\n    <vacancy-card\n      v-for=\"vacancy in vacancies?.data\"\n      :key=\"vacancy\"\n      :vacancy-id=\"vacancy.vacancyId\"\n      :vacancy-title=\"vacancy.vacancyTitle\"\n      :vacancy-description=\"vacancy.vacancyDescription\"\n    ></vacancy-card>\n    <oxd-loading-spinner v-if=\"isLoading\" class=\"XHRM-container-loader\" />\n    <div v-if=\"showPaginator\" class=\"XHRM-bottom-container\">\n      <oxd-pagination v-model:current=\"currentPage\" :length=\"pages\" />\n    </div>\n  </div>\n  <div class=\"XHRM-paper-container\">\n    <oxd-text tag=\"p\" class=\"XHRM-vacancy-list-poweredby\">\n      {{ $t('recruitment.powered_by') }}\n    </oxd-text>\n    <img\n      :src=\"defaultPic\"\n      alt=\"XHRM Picture\"\n      class=\"XHRM-container-img\"\n    />\n    <slot name=\"footer\"></slot>\n  </div>\n</template>\n\n<script>\nimport VacancyCard from '@/XHRMRecruitmentPlugin/components/VacancyCard';\nimport {APIService} from '@/core/util/services/api.service';\nimport usePaginate from '@/core/util/composable/usePaginate';\nimport {OxdSpinner} from '@ohrm/oxd';\n\nexport default {\n  name: 'VacancyList',\n  components: {\n    'vacancy-card': VacancyCard,\n    'oxd-loading-spinner': OxdSpinner,\n  },\n  setup() {\n    const defaultPic = `${window.appGlobal.publicPath}/images/ohrm_branding.png`;\n    const vacancyDataNormalizer = (data) => {\n      return data.map((item) => {\n        return {\n          vacancyId: item.id,\n          vacancyTitle: item.name,\n          vacancyDescription: item.description,\n        };\n      });\n    };\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      '/api/v2/recruitment/public/vacancies',\n    );\n    const {showPaginator, currentPage, total, pages, response, isLoading} =\n      usePaginate(http, {\n        normalizer: vacancyDataNormalizer,\n        pageSize: 8,\n      });\n    return {\n      defaultPic,\n      showPaginator,\n      currentPage,\n      isLoading,\n      total,\n      pages,\n      vacancies: response,\n    };\n  },\n};\n</script>\n\n<style src=\"./public-job-vacancy.scss\" lang=\"scss\" scoped></style>\n\r\n"],"mappings":";;EAoBOA,KAAK,EAAC;AAAgB;;;EASCA,KAAK,EAAC;;;EAI7BA,KAAK,EAAC;AAAsB;;;;;;;6DAbjCC,mBAAA,CAYM,OAZNC,UAYM,I,kBAXJC,mBAAA,CAMgBC,SAAA,QAAAC,WAAA,CALIC,MAAA,CAAAC,SAAS,EAAEC,IAAI,EAA1BC,OAAO;yBADhBC,YAAA,CAMgBC,uBAAA;MAJbC,GAAG,EAAEH,OAAO;MACZ,YAAU,EAAEA,OAAO,CAACI,SAAS;MAC7B,eAAa,EAAEJ,OAAO,CAACK,YAAY;MACnC,qBAAmB,EAAEL,OAAO,CAACM;;aAELT,MAAA,CAAAU,SAAS,I,cAApCN,YAAA,CAAsEO,8BAAA;;IAAhCjB,KAAK,EAAC;uCACjCM,MAAA,CAAAY,aAAa,I,cAAxBf,mBAAA,CAEM,OAFNgB,UAEM,GADJC,YAAA,CAAgEC,yBAAA;IAAxCC,OAAO,EAAEhB,MAAA,CAAAiB,WAAW;4DAAXjB,MAAA,CAAAiB,WAAW,GAAAC,MAAA;IAAGC,MAAM,EAAEnB,MAAA,CAAAoB;2EAG3DzB,mBAAA,CAUM,OAVN0B,UAUM,GATJP,YAAA,CAEWQ,mBAAA;IAFDC,GAAG,EAAC,GAAG;IAAC7B,KAAK,EAAC;;sBACtB,MAAkC,C,kCAA/B8B,IAAA,CAAAC,EAAE,gC;;MAEP9B,mBAAA,CAIE;IAHC+B,GAAG,EAAE1B,MAAA,CAAA2B,UAAU;IAChBC,GAAG,EAAC,cAAc;IAClBlC,KAAK,EAAC;2BAERmC,WAAA,CAA2BL,IAAA,CAAAM,MAAA,gBAAAC,SAAA,Q","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
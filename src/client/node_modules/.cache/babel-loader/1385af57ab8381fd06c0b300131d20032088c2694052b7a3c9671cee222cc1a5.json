{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-horizontal-padding XHRM-vertical-padding\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_full_name_input = _resolveComponent(\"full-name-input\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_date_input = _resolveComponent(\"date-input\");\n  const _component_oxd_input_group = _resolveComponent(\"oxd-input-group\");\n  const _component_required_text = _resolveComponent(\"required-text\");\n  const _component_submit_button = _resolveComponent(\"submit-button\");\n  const _component_oxd_form_actions = _resolveComponent(\"oxd-form-actions\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  const _component_edit_employee_layout = _resolveComponent(\"edit-employee-layout\");\n  return _openBlock(), _createBlock(_component_edit_employee_layout, {\n    \"employee-id\": $props.empNumber,\n    screen: \"personal\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_oxd_text, {\n      tag: \"h6\",\n      class: \"XHRM-main-title\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.personal_details')), 1)]),\n      _: 1\n    }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form, {\n      loading: $data.isLoading,\n      onSubmitValid: $options.onSave\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_form_row, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 1,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_full_name_input, {\n              firstName: $data.employee.firstName,\n              \"onUpdate:firstName\": _cache[0] || (_cache[0] = $event => $data.employee.firstName = $event),\n              middleName: $data.employee.middleName,\n              \"onUpdate:middleName\": _cache[1] || (_cache[1] = $event => $data.employee.middleName = $event),\n              lastName: $data.employee.lastName,\n              \"onUpdate:lastName\": _cache[2] || (_cache[2] = $event => $data.employee.lastName = $event),\n              rules: $data.rules\n            }, null, 8, [\"firstName\", \"middleName\", \"lastName\", \"rules\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), $props.showDeprecatedFields ? (_openBlock(), _createBlock(_component_oxd_grid, {\n          key: 0,\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.nickname,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.employee.nickname = $event),\n              label: _ctx.$t('pim.nickname'),\n              rules: $data.rules.nickname\n            }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n            _: 1\n          })]),\n          _: 1\n        })) : _createCommentVNode(\"\", true)]),\n        _: 1\n      }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_row, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.employeeId,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.employee.employeeId = $event),\n              label: _ctx.$t('general.employee_id'),\n              rules: $data.rules.employeeId,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.otherId,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.employee.otherId = $event),\n              label: _ctx.$t('pim.other_id'),\n              rules: $data.rules.otherId\n            }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.drivingLicenseNo,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.employee.drivingLicenseNo = $event),\n              label: _ctx.$t('pim.driver_license_number'),\n              rules: $data.rules.drivingLicenseNo,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_date_input, {\n              modelValue: $data.employee.drivingLicenseExpiredDate,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.employee.drivingLicenseExpiredDate = $event),\n              rules: $data.rules.drivingLicenseExpiredDate,\n              label: _ctx.$t('pim.license_expiry_date')\n            }, null, 8, [\"modelValue\", \"rules\", \"label\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [$props.showSsnField ? (_openBlock(), _createBlock(_component_oxd_grid_item, {\n            key: 0\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.ssnNumber,\n              \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.employee.ssnNumber = $event),\n              label: _ctx.$t('pim.ssn_number'),\n              rules: $data.rules.ssnNumber,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true), $props.showSinField ? (_openBlock(), _createBlock(_component_oxd_grid_item, {\n            key: 1\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.sinNumber,\n              \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.employee.sinNumber = $event),\n              label: _ctx.$t('pim.sin_number'),\n              rules: $data.rules.sinNumber,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true)]),\n          _: 1\n        })]),\n        _: 1\n      }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_row, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.nationality,\n              \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.employee.nationality = $event),\n              type: \"select\",\n              label: _ctx.$t('general.nationality'),\n              clear: false,\n              options: $props.nationalities\n            }, null, 8, [\"modelValue\", \"label\", \"options\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.maritalStatus,\n              \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.employee.maritalStatus = $event),\n              type: \"select\",\n              label: _ctx.$t('pim.marital_status'),\n              clear: false,\n              options: $data.maritalStatuses\n            }, null, 8, [\"modelValue\", \"label\", \"options\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_date_input, {\n              modelValue: $data.employee.birthday,\n              \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.employee.birthday = $event),\n              label: _ctx.$t('pim.date_of_birth'),\n              rules: $data.rules.birthday,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_group, {\n              label: _ctx.$t('pim.gender'),\n              classes: {\n                wrapper: '--gender-grouped-field'\n              }\n            }, {\n              default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n                modelValue: $data.employee.gender,\n                \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.employee.gender = $event),\n                type: \"radio\",\n                \"option-label\": _ctx.$t('general.male'),\n                value: \"1\"\n              }, null, 8, [\"modelValue\", \"option-label\"]), _createVNode(_component_oxd_input_field, {\n                modelValue: $data.employee.gender,\n                \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.employee.gender = $event),\n                type: \"radio\",\n                \"option-label\": _ctx.$t('general.female'),\n                value: \"2\"\n              }, null, 8, [\"modelValue\", \"option-label\"])]),\n              _: 1\n            }, 8, [\"label\"])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      }), $props.showDeprecatedFields ? (_openBlock(), _createBlock(_component_oxd_divider, {\n        key: 0\n      })) : _createCommentVNode(\"\", true), $props.showDeprecatedFields ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n        key: 1\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"XHRM-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.militaryService,\n              \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.employee.militaryService = $event),\n              label: _ctx.$t('pim.military_service'),\n              rules: $data.rules.militaryService\n            }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.smoker,\n              \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.employee.smoker = $event),\n              type: \"checkbox\",\n              label: _ctx.$t('pim.smoker'),\n              \"option-label\": _ctx.$t('general.yes')\n            }, null, 8, [\"modelValue\", \"label\", \"option-label\"])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_required_text), _createVNode(_component_submit_button)]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"loading\", \"onSubmitValid\"])])]),\n    _: 1\n  }, 8, [\"employee-id\"]);\n}","map":{"version":3,"names":["class","_createBlock","_component_edit_employee_layout","$props","empNumber","screen","_createElementVNode","_hoisted_1","_createVNode","_component_oxd_text","tag","_ctx","$t","_component_oxd_divider","_component_oxd_form","loading","$data","isLoading","onSubmitValid","$options","onSave","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_component_full_name_input","firstName","employee","$event","middleName","lastName","rules","showDeprecatedFields","_component_oxd_input_field","nickname","label","employeeId","disabled","$can","update","otherId","drivingLicenseNo","_component_date_input","drivingLicenseExpiredDate","showSsnField","key","ssnNumber","showSinField","sinNumber","nationality","type","clear","options","nationalities","maritalStatus","maritalStatuses","birthday","_component_oxd_input_group","classes","wrapper","gender","value","militaryService","smoker","_component_oxd_form_actions","_component_required_text","_component_submit_button"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMPimPlugin\\pages\\employee\\EmployeePersonalDetails.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <edit-employee-layout :employee-id=\"empNumber\" screen=\"personal\">\n    <div class=\"XHRM-horizontal-padding XHRM-vertical-padding\">\n      <oxd-text tag=\"h6\" class=\"XHRM-main-title\">\n        {{ $t('general.personal_details') }}\n      </oxd-text>\n      <oxd-divider />\n      <oxd-form :loading=\"isLoading\" @submit-valid=\"onSave\">\n        <oxd-form-row>\n          <oxd-grid :cols=\"1\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <full-name-input\n                v-model:firstName=\"employee.firstName\"\n                v-model:middleName=\"employee.middleName\"\n                v-model:lastName=\"employee.lastName\"\n                :rules=\"rules\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid\n            v-if=\"showDeprecatedFields\"\n            :cols=\"3\"\n            class=\"XHRM-full-width-grid\"\n          >\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.nickname\"\n                :label=\"$t('pim.nickname')\"\n                :rules=\"rules.nickname\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n        <oxd-form-row>\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.employeeId\"\n                :label=\"$t('general.employee_id')\"\n                :rules=\"rules.employeeId\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.otherId\"\n                :label=\"$t('pim.other_id')\"\n                :rules=\"rules.otherId\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.drivingLicenseNo\"\n                :label=\"$t('pim.driver_license_number')\"\n                :rules=\"rules.drivingLicenseNo\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <date-input\n                v-model=\"employee.drivingLicenseExpiredDate\"\n                :rules=\"rules.drivingLicenseExpiredDate\"\n                :label=\"$t('pim.license_expiry_date')\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item v-if=\"showSsnField\">\n              <oxd-input-field\n                v-model=\"employee.ssnNumber\"\n                :label=\"$t('pim.ssn_number')\"\n                :rules=\"rules.ssnNumber\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item v-if=\"showSinField\">\n              <oxd-input-field\n                v-model=\"employee.sinNumber\"\n                :label=\"$t('pim.sin_number')\"\n                :rules=\"rules.sinNumber\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n        <oxd-form-row>\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.nationality\"\n                type=\"select\"\n                :label=\"$t('general.nationality')\"\n                :clear=\"false\"\n                :options=\"nationalities\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.maritalStatus\"\n                type=\"select\"\n                :label=\"$t('pim.marital_status')\"\n                :clear=\"false\"\n                :options=\"maritalStatuses\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <date-input\n                v-model=\"employee.birthday\"\n                :label=\"$t('pim.date_of_birth')\"\n                :rules=\"rules.birthday\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-group\n                :label=\"$t('pim.gender')\"\n                :classes=\"{wrapper: '--gender-grouped-field'}\"\n              >\n                <oxd-input-field\n                  v-model=\"employee.gender\"\n                  type=\"radio\"\n                  :option-label=\"$t('general.male')\"\n                  value=\"1\"\n                />\n                <oxd-input-field\n                  v-model=\"employee.gender\"\n                  type=\"radio\"\n                  :option-label=\"$t('general.female')\"\n                  value=\"2\"\n                />\n              </oxd-input-group>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider v-if=\"showDeprecatedFields\" />\n        <oxd-form-row v-if=\"showDeprecatedFields\">\n          <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.militaryService\"\n                :label=\"$t('pim.military_service')\"\n                :rules=\"rules.militaryService\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.smoker\"\n                type=\"checkbox\"\n                :label=\"$t('pim.smoker')\"\n                :option-label=\"$t('general.yes')\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n        <oxd-form-actions>\n          <required-text />\n          <submit-button />\n        </oxd-form-actions>\n      </oxd-form>\n    </div>\n  </edit-employee-layout>\n</template>\n\n<script>\nimport {APIService} from '@ohrm/core/util/services/api.service';\nimport EditEmployeeLayout from '@/XHRMPimPlugin/components/EditEmployeeLayout';\nimport FullNameInput from '@/XHRMPimPlugin/components/FullNameInput';\nimport {\n  required,\n  shouldNotExceedCharLength,\n  validDateFormat,\n} from '@ohrm/core/util/validation/rules';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\n\nconst employeeModel = {\n  firstName: '',\n  middleName: '',\n  lastName: '',\n  employeeId: '',\n  otherId: '',\n  drivingLicenseNo: '',\n  drivingLicenseExpiredDate: '',\n  ssnNumber: '',\n  sinNumber: '',\n  nationality: [],\n  maritalStatus: [],\n  birthday: '',\n  gender: '',\n  nickname: '',\n  smoker: '',\n  militaryService: '',\n};\n\nexport default {\n  components: {\n    'edit-employee-layout': EditEmployeeLayout,\n    'full-name-input': FullNameInput,\n  },\n\n  props: {\n    empNumber: {\n      type: String,\n      required: true,\n    },\n    nationalities: {\n      type: Array,\n      default: () => [],\n    },\n    showDeprecatedFields: {\n      type: Boolean,\n      default: false,\n    },\n    showSsnField: {\n      type: Boolean,\n      default: false,\n    },\n    showSinField: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  setup(props) {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      `/api/v2/pim/employees/${props.empNumber}/personal-details`,\n    );\n    const {userDateFormat} = useDateFormat();\n\n    return {\n      http,\n      userDateFormat,\n    };\n  },\n\n  data() {\n    return {\n      isLoading: false,\n      employee: {...employeeModel},\n      rules: {\n        firstName: [required, shouldNotExceedCharLength(30)],\n        middleName: [shouldNotExceedCharLength(30)],\n        lastName: [required, shouldNotExceedCharLength(30)],\n        employeeId: [shouldNotExceedCharLength(10)],\n        otherId: [shouldNotExceedCharLength(30)],\n        drivingLicenseNo: [shouldNotExceedCharLength(30)],\n        ssnNumber: [shouldNotExceedCharLength(30)],\n        sinNumber: [shouldNotExceedCharLength(30)],\n        nickname: [shouldNotExceedCharLength(30)],\n        militaryService: [shouldNotExceedCharLength(30)],\n        birthday: [validDateFormat(this.userDateFormat)],\n        drivingLicenseExpiredDate: [validDateFormat(this.userDateFormat)],\n      },\n      maritalStatuses: [\n        {id: 'Single', label: this.$t('pim.single')},\n        {id: 'Married', label: this.$t('pim.married')},\n        {id: 'Other', label: this.$t('pim.other')},\n      ],\n    };\n  },\n\n  beforeMount() {\n    this.isLoading = true;\n    this.http\n      .getAll()\n      .then((response) => {\n        this.updateModel(response);\n        return this.http.request({\n          method: 'GET',\n          url: '/api/v2/pim/employees',\n        });\n      })\n      .then((response) => {\n        const {data} = response.data;\n        this.rules.employeeId.push((v) => {\n          const index = data.findIndex(\n            (item) =>\n              item.employeeId?.trim() &&\n              String(item.employeeId).toLowerCase() == String(v).toLowerCase(),\n          );\n          if (index > -1) {\n            const {empNumber} = data[index];\n            return empNumber != this.empNumber\n              ? this.$t('pim.employee_id_exists')\n              : true;\n          } else {\n            return true;\n          }\n        });\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  },\n\n  methods: {\n    onSave() {\n      this.isLoading = true;\n      this.http\n        .request({\n          method: 'PUT',\n          data: {\n            lastName: this.employee.lastName,\n            firstName: this.employee.firstName,\n            middleName: this.employee.middleName,\n            employeeId: this.employee.employeeId,\n            otherId: this.employee.otherId,\n            drivingLicenseNo: this.employee.drivingLicenseNo,\n            drivingLicenseExpiredDate: this.employee.drivingLicenseExpiredDate,\n            gender: this.employee.gender,\n            maritalStatus: this.employee.maritalStatus?.id,\n            birthday: this.employee.birthday,\n            nationalityId: this.employee.nationality?.id,\n            ssnNumber: this.showSsnField ? this.employee.ssnNumber : undefined,\n            sinNumber: this.showSinField ? this.employee.sinNumber : undefined,\n            nickname: this.showDeprecatedFields\n              ? this.employee.nickname\n              : undefined,\n            smoker: this.showDeprecatedFields\n              ? this.employee.smoker\n              : undefined,\n            militaryService: this.showDeprecatedFields\n              ? this.employee.militaryService\n              : undefined,\n          },\n        })\n        .then((response) => {\n          this.updateModel(response);\n          return this.$toast.updateSuccess();\n        })\n        .then(() => {\n          this.isLoading = false;\n        });\n    },\n\n    updateModel(response) {\n      const {data} = response.data;\n      this.employee = {...employeeModel, ...data};\n      this.employee.maritalStatus = this.maritalStatuses.find(\n        (item) => item.id === data.maritalStatus,\n      );\n      this.employee.nationality = this.nationalities.find(\n        (item) => item.id === data.nationality?.id,\n      );\n    },\n  },\n};\n</script>\n\n<style src=\"./employee.scss\" lang=\"scss\" scoped></style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
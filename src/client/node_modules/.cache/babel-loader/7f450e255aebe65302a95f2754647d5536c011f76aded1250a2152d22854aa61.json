{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-photo-viewer\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  key: 0,\n  class: \"XHRM-photo-viewer-controls\"\n};\nconst _hoisted_5 = {\n  class: \"XHRM-photo-viewer-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_icon_button = _resolveComponent(\"oxd-icon-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"img\", {\n    class: \"XHRM-photo-viewer-background\",\n    alt: \"photo\",\n    src: $setup.selectedPhoto\n  }, null, 8, _hoisted_2), _createElementVNode(\"img\", {\n    class: \"XHRM-photo-viewer-photo\",\n    alt: \"background\",\n    src: $setup.selectedPhoto\n  }, null, 8, _hoisted_3), $props.post.photoIds.length > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_oxd_icon_button, {\n    class: \"XHRM-photo-viewer-icon actions\",\n    name: \"chevron-left\",\n    disabled: _ctx.index === 0,\n    onClick: $setup.onClickPreviousPhoto\n  }, null, 8, [\"disabled\", \"onClick\"]), _createVNode(_component_oxd_icon_button, {\n    class: \"XHRM-photo-viewer-icon actions\",\n    name: \"chevron-right\",\n    disabled: _ctx.index === $props.post.photoIds.length - 1,\n    onClick: $setup.onClickNextPhoto\n  }, null, 8, [\"disabled\", \"onClick\"])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_5, [_renderSlot(_ctx.$slots, \"default\", {}, undefined, true)]), _createVNode(_component_oxd_icon_button, {\n    class: \"XHRM-photo-viewer-close actions\",\n    name: \"x\",\n    onClick: $setup.onClickClose\n  }, null, 8, [\"onClick\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","alt","src","$setup","selectedPhoto","$props","post","photoIds","length","_hoisted_4","_createVNode","_component_oxd_icon_button","name","disabled","_ctx","index","onClick","onClickPreviousPhoto","onClickNextPhoto","_hoisted_5","_renderSlot","$slots","undefined","onClickClose"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMBuzzPlugin\\components\\PhotoViewer.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"XHRM-photo-viewer\">\n    <img\n      class=\"XHRM-photo-viewer-background\"\n      alt=\"photo\"\n      :src=\"selectedPhoto\"\n    />\n    <img\n      class=\"XHRM-photo-viewer-photo\"\n      alt=\"background\"\n      :src=\"selectedPhoto\"\n    />\n    <div v-if=\"post.photoIds.length > 1\" class=\"XHRM-photo-viewer-controls\">\n      <oxd-icon-button\n        class=\"XHRM-photo-viewer-icon actions\"\n        name=\"chevron-left\"\n        :disabled=\"index === 0\"\n        @click=\"onClickPreviousPhoto\"\n      />\n      <oxd-icon-button\n        class=\"XHRM-photo-viewer-icon actions\"\n        name=\"chevron-right\"\n        :disabled=\"index === post.photoIds.length - 1\"\n        @click=\"onClickNextPhoto\"\n      />\n    </div>\n    <div class=\"XHRM-photo-viewer-actions\">\n      <slot></slot>\n    </div>\n\n    <oxd-icon-button\n      class=\"XHRM-photo-viewer-close actions\"\n      name=\"x\"\n      @click=\"onClickClose\"\n    />\n  </div>\n</template>\n\n<script>\nimport {computed, onBeforeUnmount, reactive, toRefs} from 'vue';\n\nexport default {\n  name: 'PhotoViewer',\n\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n    photoIndex: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  emits: ['close'],\n\n  setup(props, context) {\n    const state = reactive({\n      index: props.photoIndex,\n    });\n\n    const onClickNextPhoto = () => state.index++;\n\n    const onClickPreviousPhoto = () => state.index--;\n\n    const selectedPhoto = computed(() => {\n      const photo = props.post.photoIds[state.index];\n      return `${window.appGlobal.baseUrl}/buzz/photo/${photo}`;\n    });\n\n    const onClickClose = ($event) => {\n      if ($event.key && $event.key !== 'Escape') return;\n      context.emit('close');\n    };\n\n    window.addEventListener('keydown', onClickClose);\n\n    onBeforeUnmount(() => window.removeEventListener('keydown', onClickClose));\n\n    return {\n      onClickClose,\n      selectedPhoto,\n      onClickNextPhoto,\n      onClickPreviousPhoto,\n      ...toRefs(state),\n    };\n  },\n};\n</script>\n\n<style src=\"./photo-viewer.scss\" lang=\"scss\" scoped></style>\n"],"mappings":";;EAoBOA,KAAK,EAAC;AAAmB;;;;;EAWSA,KAAK,EAAC;;;EActCA,KAAK,EAAC;AAA2B;;;uBAzBxCC,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCJC,mBAAA,CAIE;IAHAH,KAAK,EAAC,8BAA8B;IACpCI,GAAG,EAAC,OAAO;IACVC,GAAG,EAAEC,MAAA,CAAAC;2BAERJ,mBAAA,CAIE;IAHAH,KAAK,EAAC,yBAAyB;IAC/BI,GAAG,EAAC,YAAY;IACfC,GAAG,EAAEC,MAAA,CAAAC;2BAEGC,MAAA,CAAAC,IAAI,CAACC,QAAQ,CAACC,MAAM,Q,cAA/BV,mBAAA,CAaM,OAbNW,UAaM,GAZJC,YAAA,CAKEC,0BAAA;IAJAd,KAAK,EAAC,gCAAgC;IACtCe,IAAI,EAAC,cAAc;IAClBC,QAAQ,EAAEC,IAAA,CAAAC,KAAK;IACfC,OAAK,EAAEb,MAAA,CAAAc;wCAEVP,YAAA,CAKEC,0BAAA;IAJAd,KAAK,EAAC,gCAAgC;IACtCe,IAAI,EAAC,eAAe;IACnBC,QAAQ,EAAEC,IAAA,CAAAC,KAAK,KAAKV,MAAA,CAAAC,IAAI,CAACC,QAAQ,CAACC,MAAM;IACxCQ,OAAK,EAAEb,MAAA,CAAAe;2EAGZlB,mBAAA,CAEM,OAFNmB,UAEM,GADJC,WAAA,CAAaN,IAAA,CAAAO,MAAA,iBAAAC,SAAA,Q,GAGfZ,YAAA,CAIEC,0BAAA;IAHAd,KAAK,EAAC,iCAAiC;IACvCe,IAAI,EAAC,GAAG;IACPI,OAAK,EAAEb,MAAA,CAAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-card-container\"\n};\nconst _hoisted_2 = {\n  class: \"XHRM-performance-review-summary\"\n};\nconst _hoisted_3 = {\n  class: \"XHRM-performance-review-owner\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"XHRM-performance-review-owner-employee-section\"\n};\nconst _hoisted_6 = {\n  class: \"XHRM-performance-review-owner-employee\"\n};\nconst _hoisted_7 = {\n  class: \"XHRM-performance-review-rating\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_oxd_text, {\n    tag: \"h5\",\n    class: \"XHRM-performance-review-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.review_summary')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_form, {\n    loading: $props.loading\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_form_row, {\n      class: \"XHRM-performance-review-details\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"XHRM-performance-review-details-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n            alt: \"profile picture\",\n            class: \"employee-image\",\n            src: $setup.imgSrc\n          }, null, 8, _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_oxd_text, {\n            tag: \"h5\",\n            class: \"XHRM-performance-review-owner-employee-name\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.employeeName), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_text, {\n            tag: \"h6\",\n            class: \"XHRM-performance-review-owner-employee-job\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($props.jobTitle), 1)]),\n            _: 1\n          })])])])]),\n          _: 1\n        }), _withDirectives(_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_oxd_text, {\n            type: \"subtitle-2\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.final_rating')), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_text, {\n            tag: \"h4\",\n            class: \"XHRM-performance-review-rating-number\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($props.finalRating), 1)]),\n            _: 1\n          })])]),\n          _: 1\n        }, 512), [[_vShow, $props.status === 4]])]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, {\n      class: \"XHRM-performance-review-details\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"XHRM-performance-review-details-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"XHRM-performance-review-column\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_text, {\n            type: \"subtitle-2\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.review_status')), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_text, {\n            class: \"XHRM-performance-review-bold\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.reviewStatus), 1)]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, {\n          class: \"XHRM-performance-review-column\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_text, {\n            type: \"subtitle-2\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.review_period')), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_text, {\n            class: \"XHRM-performance-review-bold\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.reviewPeriod), 1)]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, {\n          class: \"XHRM-performance-review-column\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_text, {\n            type: \"subtitle-2\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.review_due_date')), 1)]),\n            _: 1\n          }), _createVNode(_component_oxd_text, {\n            class: \"XHRM-performance-review-bold\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.reviewDueDate), 1)]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"loading\"])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_oxd_text","tag","_ctx","$t","_component_oxd_form","loading","$props","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_hoisted_3","alt","src","$setup","imgSrc","_hoisted_5","_hoisted_6","employeeName","jobTitle","_hoisted_7","type","finalRating","status","reviewStatus","reviewPeriod","reviewDueDate"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMPerformancePlugin\\components\\ReviewSummary.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"XHRM-card-container\">\n    <div class=\"XHRM-performance-review-summary\">\n      <oxd-text tag=\"h5\" class=\"XHRM-performance-review-title\">\n        {{ $t('performance.review_summary') }}\n      </oxd-text>\n      <oxd-form :loading=\"loading\">\n        <oxd-form-row class=\"XHRM-performance-review-details\">\n          <oxd-grid :cols=\"3\" class=\"XHRM-performance-review-details-grid\">\n            <oxd-grid-item>\n              <div class=\"XHRM-performance-review-owner\">\n                <img\n                  alt=\"profile picture\"\n                  class=\"employee-image\"\n                  :src=\"imgSrc\"\n                />\n                <div\n                  class=\"XHRM-performance-review-owner-employee-section\"\n                >\n                  <div class=\"XHRM-performance-review-owner-employee\">\n                    <oxd-text\n                      tag=\"h5\"\n                      class=\"XHRM-performance-review-owner-employee-name\"\n                    >\n                      {{ employeeName }}\n                    </oxd-text>\n                    <oxd-text\n                      tag=\"h6\"\n                      class=\"XHRM-performance-review-owner-employee-job\"\n                    >\n                      {{ jobTitle }}\n                    </oxd-text>\n                  </div>\n                </div>\n              </div>\n            </oxd-grid-item>\n            <oxd-grid-item v-show=\"status === 4\">\n              <div class=\"XHRM-performance-review-rating\">\n                <oxd-text type=\"subtitle-2\">\n                  {{ $t('performance.final_rating') }}\n                </oxd-text>\n                <oxd-text\n                  tag=\"h4\"\n                  class=\"XHRM-performance-review-rating-number\"\n                >\n                  {{ finalRating }}\n                </oxd-text>\n              </div>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-form-row class=\"XHRM-performance-review-details\">\n          <oxd-grid :cols=\"3\" class=\"XHRM-performance-review-details-grid\">\n            <oxd-grid-item class=\"XHRM-performance-review-column\">\n              <oxd-text type=\"subtitle-2\">\n                {{ $t('performance.review_status') }}\n              </oxd-text>\n              <oxd-text class=\"XHRM-performance-review-bold\">\n                {{ reviewStatus }}\n              </oxd-text>\n            </oxd-grid-item>\n            <oxd-grid-item class=\"XHRM-performance-review-column\">\n              <oxd-text type=\"subtitle-2\">\n                {{ $t('performance.review_period') }}\n              </oxd-text>\n              <oxd-text class=\"XHRM-performance-review-bold\">\n                {{ reviewPeriod }}\n              </oxd-text>\n            </oxd-grid-item>\n            <oxd-grid-item class=\"XHRM-performance-review-column\">\n              <oxd-text type=\"subtitle-2\">\n                {{ $t('performance.review_due_date') }}\n              </oxd-text>\n              <oxd-text class=\"XHRM-performance-review-bold\">\n                {{ reviewDueDate }}\n              </oxd-text>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n      </oxd-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {computed} from 'vue';\nimport {formatDate, parseDate} from '@/core/util/helper/datefns';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport useLocale from '@/core/util/composable/useLocale';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\n\nconst defaultPic = `${window.appGlobal.publicPath}/images/default-photo.png`;\n\nexport default {\n  name: 'ReviewSummary',\n\n  props: {\n    employee: {\n      type: Object,\n      required: true,\n    },\n    jobTitle: {\n      type: String,\n      required: true,\n    },\n    status: {\n      type: Number,\n      required: true,\n    },\n    reviewPeriodStart: {\n      type: String,\n      required: true,\n    },\n    reviewPeriodEnd: {\n      type: String,\n      required: true,\n    },\n    dueDate: {\n      type: String,\n      required: true,\n    },\n    loading: {\n      type: Boolean,\n      required: true,\n    },\n    finalRating: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props) {\n    const {$t} = usei18n();\n    const {locale} = useLocale();\n    const {jsDateFormat} = useDateFormat();\n    const {$tEmpName} = useEmployeeNameTranslate();\n\n    const statusOpts = [\n      {id: 1, label: $t('performance.inactive')},\n      {id: 2, label: $t('performance.activated')},\n      {id: 3, label: $t('performance.in_progress')},\n      {id: 4, label: $t('performance.completed')},\n    ];\n\n    const reviewDateFormat = (date) =>\n      formatDate(parseDate(date), jsDateFormat, {locale});\n\n    const imgSrc = computed(() =>\n      props.employee.empNumber\n        ? `${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${props.employee.empNumber}`\n        : defaultPic,\n    );\n\n    const reviewStatus = statusOpts.find((el) => el.id === props.status).label;\n    const reviewPeriod = `${reviewDateFormat(\n      props.reviewPeriodStart,\n    )} - ${reviewDateFormat(props.reviewPeriodEnd)}`;\n    const reviewDueDate = reviewDateFormat(props.dueDate);\n\n    const employeeName = computed(() => {\n      return $tEmpName(props.employee, {\n        includeMiddle: true,\n        excludePastEmpTag: false,\n      });\n    });\n\n    return {\n      imgSrc,\n      reviewStatus,\n      reviewPeriod,\n      reviewDueDate,\n      employeeName,\n    };\n  },\n};\n</script>\n\n<style src=\"./review-summary.scss\" lang=\"scss\" scoped></style>\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
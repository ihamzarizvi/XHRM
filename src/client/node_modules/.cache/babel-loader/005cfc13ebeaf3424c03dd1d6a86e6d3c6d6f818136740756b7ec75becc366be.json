{"ast":null,"code":"import { computed } from 'vue';\nimport useLocale from '@/core/util/composable/useLocale';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport { formatDate, parseDate } from '@/core/util/helper/datefns';\nimport ProfileImage from '@/XHRMBuzzPlugin/components/ProfileImage';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\nimport { OxdDropdownMenu, OxdIcon, OxdSheet } from '@ohrm/oxd';\nexport default {\n  name: 'PostContainer',\n  components: {\n    'oxd-icon': OxdIcon,\n    'oxd-sheet': OxdSheet,\n    'oxd-dropdown': OxdDropdownMenu,\n    'profile-image': ProfileImage\n  },\n  props: {\n    post: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['edit', 'delete'],\n  setup(props) {\n    const {\n      locale\n    } = useLocale();\n    const {\n      jsDateFormat,\n      jsTimeFormat\n    } = useDateFormat();\n    const {\n      $tEmpName\n    } = useEmployeeNameTranslate();\n    const employeeFullName = computed(() => {\n      return $tEmpName(props.post.employee, {\n        includeMiddle: true,\n        excludePastEmpTag: false\n      });\n    });\n    const postDateTime = computed(() => {\n      const {\n        createdDate,\n        createdTime\n      } = props.post;\n      const utcDate = parseDate(`${createdDate} ${createdTime} +00:00`, 'yyyy-MM-dd HH:mm xxx');\n      return formatDate(utcDate, `${jsDateFormat} ${jsTimeFormat}`, {\n        locale\n      });\n    });\n    return {\n      postDateTime,\n      employeeFullName\n    };\n  }\n};","map":{"version":3,"names":["computed","useLocale","useDateFormat","formatDate","parseDate","ProfileImage","useEmployeeNameTranslate","OxdDropdownMenu","OxdIcon","OxdSheet","name","components","props","post","type","Object","required","emits","setup","locale","jsDateFormat","jsTimeFormat","$tEmpName","employeeFullName","employee","includeMiddle","excludePastEmpTag","postDateTime","createdDate","createdTime","utcDate"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMBuzzPlugin\\components\\PostContainer.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <oxd-sheet :gutters=\"false\" type=\"white\" class=\"XHRM-buzz\">\n    <div class=\"XHRM-buzz-post\">\n      <div class=\"XHRM-buzz-post-header\">\n        <div class=\"XHRM-buzz-post-header-details\">\n          <profile-image :employee=\"post.employee\"></profile-image>\n          <div class=\"XHRM-buzz-post-header-text\">\n            <oxd-text tag=\"p\" class=\"XHRM-buzz-post-emp-name\">\n              {{ employeeFullName }}\n            </oxd-text>\n            <oxd-text tag=\"p\" class=\"XHRM-buzz-post-time\">\n              {{ postDateTime }}\n            </oxd-text>\n          </div>\n        </div>\n        <div\n          v-if=\"post.permission.canUpdate || post.permission.canDelete\"\n          class=\"XHRM-buzz-post-header-config\"\n        >\n          <oxd-dropdown>\n            <oxd-icon-button name=\"three-dots\" :with-container=\"true\" />\n            <template #content>\n              <li\n                v-if=\"post.permission.canDelete\"\n                class=\"XHRM-buzz-post-header-config-item\"\n                @click=\"$emit('delete', $event)\"\n              >\n                <oxd-icon name=\"trash\" />\n                <oxd-text tag=\"p\">\n                  {{ $t('buzz.delete_post') }}\n                </oxd-text>\n              </li>\n              <li\n                v-if=\"post.permission.canUpdate\"\n                class=\"XHRM-buzz-post-header-config-item\"\n                @click=\"$emit('edit', $event)\"\n              >\n                <oxd-icon name=\"pencil\" />\n                <oxd-text tag=\"p\">\n                  {{ $t('buzz.edit_post') }}\n                </oxd-text>\n              </li>\n            </template>\n          </oxd-dropdown>\n        </div>\n      </div>\n      <oxd-divider />\n    </div>\n    <div class=\"XHRM-buzz-post-body\">\n      <slot name=\"content\"></slot>\n      <slot name=\"body\"></slot>\n    </div>\n    <div class=\"XHRM-buzz-post-footer\">\n      <slot name=\"actionButton\"></slot>\n      <slot name=\"postStats\"></slot>\n    </div>\n    <slot name=\"comments\"></slot>\n  </oxd-sheet>\n</template>\n\n<script>\nimport {computed} from 'vue';\nimport useLocale from '@/core/util/composable/useLocale';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport {formatDate, parseDate} from '@/core/util/helper/datefns';\nimport ProfileImage from '@/XHRMBuzzPlugin/components/ProfileImage';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\nimport {OxdDropdownMenu, OxdIcon, OxdSheet} from '@ohrm/oxd';\n\nexport default {\n  name: 'PostContainer',\n  components: {\n    'oxd-icon': OxdIcon,\n    'oxd-sheet': OxdSheet,\n    'oxd-dropdown': OxdDropdownMenu,\n    'profile-image': ProfileImage,\n  },\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  emits: ['edit', 'delete'],\n\n  setup(props) {\n    const {locale} = useLocale();\n    const {jsDateFormat, jsTimeFormat} = useDateFormat();\n    const {$tEmpName} = useEmployeeNameTranslate();\n\n    const employeeFullName = computed(() => {\n      return $tEmpName(props.post.employee, {\n        includeMiddle: true,\n        excludePastEmpTag: false,\n      });\n    });\n\n    const postDateTime = computed(() => {\n      const {createdDate, createdTime} = props.post;\n\n      const utcDate = parseDate(\n        `${createdDate} ${createdTime} +00:00`,\n        'yyyy-MM-dd HH:mm xxx',\n      );\n\n      return formatDate(utcDate, `${jsDateFormat} ${jsTimeFormat}`, {\n        locale,\n      });\n    });\n\n    return {\n      postDateTime,\n      employeeFullName,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped src=\"./post-container.scss\"></style>\n"],"mappings":"AAgFA,SAAQA,QAAQ,QAAO,KAAK;AAC5B,OAAOC,SAAQ,MAAO,kCAAkC;AACxD,OAAOC,aAAY,MAAO,sCAAsC;AAChE,SAAQC,UAAU,EAAEC,SAAS,QAAO,4BAA4B;AAChE,OAAOC,YAAW,MAAO,0CAA0C;AACnE,OAAOC,wBAAuB,MAAO,iDAAiD;AACtF,SAAQC,eAAe,EAAEC,OAAO,EAAEC,QAAQ,QAAO,WAAW;AAE5D,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACV,UAAU,EAAEH,OAAO;IACnB,WAAW,EAAEC,QAAQ;IACrB,cAAc,EAAEF,eAAe;IAC/B,eAAe,EAAEF;EACnB,CAAC;EACDO,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EAEDC,KAAK,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC;EAEzBC,KAAKA,CAACN,KAAK,EAAE;IACX,MAAM;MAACO;IAAM,IAAIlB,SAAS,CAAC,CAAC;IAC5B,MAAM;MAACmB,YAAY;MAAEC;IAAY,IAAInB,aAAa,CAAC,CAAC;IACpD,MAAM;MAACoB;IAAS,IAAIhB,wBAAwB,CAAC,CAAC;IAE9C,MAAMiB,gBAAe,GAAIvB,QAAQ,CAAC,MAAM;MACtC,OAAOsB,SAAS,CAACV,KAAK,CAACC,IAAI,CAACW,QAAQ,EAAE;QACpCC,aAAa,EAAE,IAAI;QACnBC,iBAAiB,EAAE;MACrB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMC,YAAW,GAAI3B,QAAQ,CAAC,MAAM;MAClC,MAAM;QAAC4B,WAAW;QAAEC;MAAW,IAAIjB,KAAK,CAACC,IAAI;MAE7C,MAAMiB,OAAM,GAAI1B,SAAS,CACvB,GAAGwB,WAAW,IAAIC,WAAW,SAAS,EACtC,sBACF,CAAC;MAED,OAAO1B,UAAU,CAAC2B,OAAO,EAAE,GAAGV,YAAY,IAAIC,YAAY,EAAE,EAAE;QAC5DF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,OAAO;MACLQ,YAAY;MACZJ;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
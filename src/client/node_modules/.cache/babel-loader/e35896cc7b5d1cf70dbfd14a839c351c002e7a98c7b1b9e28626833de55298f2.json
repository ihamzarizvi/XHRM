{"ast":null,"code":"import { APIService } from '@/core/util/services/api.service';\nimport FlexTable from '@/XHRMSystemCheckPlugin/components/FlexTable';\nexport default {\n  name: 'SystemCheckScreen',\n  components: {\n    'flex-table': FlexTable\n  },\n  setup() {\n    const http = new APIService(window.appGlobal.baseUrl, `/api/v2/core/system-check`);\n    return {\n      http\n    };\n  },\n  data() {\n    return {\n      items: [],\n      isLoading: false,\n      isInterrupted: false,\n      error: null\n    };\n  },\n  beforeMount() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.isLoading = true;\n      this.http.getAll().then(response => {\n        const {\n          data,\n          meta\n        } = response.data;\n        this.items = data;\n        this.isInterrupted = meta.isInterrupted;\n        this.error = meta.error;\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n    reCheck() {\n      this.fetchData();\n    }\n  }\n};","map":{"version":3,"names":["APIService","FlexTable","name","components","setup","http","window","appGlobal","baseUrl","data","items","isLoading","isInterrupted","error","beforeMount","fetchData","methods","getAll","then","response","meta","finally","reCheck"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMSystemCheckPlugin\\pages\\SystemCheckScreen.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n<template>\n  <oxd-form\n    :loading=\"isLoading\"\n    :class=\"\n      isLoading ? 'XHRM-system-check-form-loading' : 'XHRM-system-check-form'\n    \"\n  >\n    <div class=\"XHRM-system-check\">\n      <oxd-text tag=\"h5\" class=\"XHRM-system-check-title\">\n        System Check\n      </oxd-text>\n      <br />\n      <oxd-text class=\"XHRM-system-check-content\">\n        To properly function the system, please ensure that all of the system\n        check items listed below are green. If any are red, please take the\n        necessary steps to fix them.\n      </oxd-text>\n      <br />\n      <oxd-text v-if=\"error?.message\" class=\"XHRM-system-check-content --error\">\n        An unexpected error occurred. Please provide the file write permission\n        to <b>/src/log</b> directory and check the error log in\n        <b>/src/log/XHRM.log</b> file for more details.\n      </oxd-text>\n      <flex-table\n        v-for=\"item in items\"\n        :key=\"item.category\"\n        :items=\"item.checks\"\n        :title-name=\"item.category\"\n      ></flex-table>\n      <oxd-form-actions class=\"XHRM-system-check-action\">\n        <oxd-button\n          class=\"XHRM-left-space\"\n          display-type=\"ghost\"\n          label=\"Re-Check\"\n          type=\"submit\"\n          @click=\"reCheck\"\n        />\n      </oxd-form-actions>\n    </div>\n    <slot name=\"footer\"></slot>\n  </oxd-form>\n</template>\n\n<script>\nimport {APIService} from '@/core/util/services/api.service';\nimport FlexTable from '@/XHRMSystemCheckPlugin/components/FlexTable';\nexport default {\n  name: 'SystemCheckScreen',\n  components: {\n    'flex-table': FlexTable,\n  },\n  setup() {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      `/api/v2/core/system-check`,\n    );\n    return {\n      http,\n    };\n  },\n  data() {\n    return {\n      items: [],\n      isLoading: false,\n      isInterrupted: false,\n      error: null,\n    };\n  },\n  beforeMount() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.isLoading = true;\n      this.http\n        .getAll()\n        .then((response) => {\n          const {data, meta} = response.data;\n          this.items = data;\n          this.isInterrupted = meta.isInterrupted;\n          this.error = meta.error;\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    reCheck() {\n      this.fetchData();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.XHRM-system-check {\n  font-size: $oxd-input-control-font-size;\n  &-title {\n    font-weight: 700;\n    color: $oxd-primary-one-color;\n  }\n  &-content {\n    &.--error {\n      color: $oxd-feedback-danger-color;\n    }\n  }\n  &-action {\n    padding: 1rem 0;\n  }\n  &-form {\n    margin: 5%;\n    &-loading {\n      height: 100%;\n    }\n  }\n}\n</style>\n"],"mappings":"AA8DA,SAAQA,UAAU,QAAO,kCAAkC;AAC3D,OAAOC,SAAQ,MAAO,8CAA8C;AACpE,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,UAAU,EAAE;IACV,YAAY,EAAEF;EAChB,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,IAAG,GAAI,IAAIL,UAAU,CACzBM,MAAM,CAACC,SAAS,CAACC,OAAO,EACxB,2BACF,CAAC;IACD,OAAO;MACLH;IACF,CAAC;EACH,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,KAAK;MAChBC,aAAa,EAAE,KAAK;MACpBC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACPD,SAASA,CAAA,EAAG;MACV,IAAI,CAACJ,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACN,IAAG,CACLY,MAAM,CAAC,EACPC,IAAI,CAAEC,QAAQ,IAAK;QAClB,MAAM;UAACV,IAAI;UAAEW;QAAI,IAAID,QAAQ,CAACV,IAAI;QAClC,IAAI,CAACC,KAAI,GAAID,IAAI;QACjB,IAAI,CAACG,aAAY,GAAIQ,IAAI,CAACR,aAAa;QACvC,IAAI,CAACC,KAAI,GAAIO,IAAI,CAACP,KAAK;MACzB,CAAC,EACAQ,OAAO,CAAC,MAAM;QACb,IAAI,CAACV,SAAQ,GAAI,KAAK;MACxB,CAAC,CAAC;IACN,CAAC;IACDW,OAAOA,CAAA,EAAG;MACR,IAAI,CAACP,SAAS,CAAC,CAAC;IAClB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
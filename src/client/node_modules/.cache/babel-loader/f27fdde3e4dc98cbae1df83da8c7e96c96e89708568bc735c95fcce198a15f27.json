{"ast":null,"code":"import { urlFor } from '@ohrm/core/util/helper/url';\nimport { OxdAlert, OxdIcon, OxdSheet } from '@ohrm/oxd';\nimport { required } from '@ohrm/core/util/validation/rules';\nimport { navigate, reloadPage } from '@ohrm/core/util/helper/navigation';\nimport LoginLayout from '@/XHRMAuthenticationPlugin/components/LoginLayout.vue';\nimport SocialMediaAuth from '@/XHRMAuthenticationPlugin/components/SocialMediaAuth.vue';\nexport default {\n  components: {\n    'oxd-icon': OxdIcon,\n    'oxd-alert': OxdAlert,\n    'oxd-sheet': OxdSheet,\n    'login-layout': LoginLayout,\n    'social-media-auth': SocialMediaAuth\n  },\n  props: {\n    error: {\n      type: Object,\n      default: () => null\n    },\n    token: {\n      type: String,\n      required: true\n    },\n    showSocialMedia: {\n      type: Boolean,\n      default: true\n    },\n    isDemoMode: {\n      type: Boolean,\n      default: false\n    },\n    authenticators: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n      rules: {\n        username: [required],\n        password: [required]\n      },\n      submitted: false\n    };\n  },\n  computed: {\n    submitUrl() {\n      return urlFor('/auth/validate');\n    }\n  },\n  beforeMount() {\n    setTimeout(() => {\n      reloadPage();\n    }, 1200000); // 20 * 60 * 1000 (20 minutes);\n  },\n  methods: {\n    onSubmit() {\n      if (!this.submitted) {\n        this.submitted = true;\n        this.$refs.loginForm.$el.submit();\n      }\n    },\n    navigateUrl() {\n      navigate('/auth/requestPasswordResetCode');\n    }\n  }\n};","map":{"version":3,"names":["urlFor","OxdAlert","OxdIcon","OxdSheet","required","navigate","reloadPage","LoginLayout","SocialMediaAuth","components","props","error","type","Object","default","token","String","showSocialMedia","Boolean","isDemoMode","authenticators","Array","data","username","password","rules","submitted","computed","submitUrl","beforeMount","setTimeout","methods","onSubmit","$refs","loginForm","$el","submit","navigateUrl"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMAuthenticationPlugin\\pages\\Login.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <login-layout>\n    <oxd-text class=\"XHRM-login-title\" tag=\"h5\">\n      {{ $t('auth.login') }}\n    </oxd-text>\n    <div class=\"XHRM-login-form\">\n      <div class=\"XHRM-login-error\">\n        <oxd-alert\n          :show=\"error !== null\"\n          :message=\"error?.message || ''\"\n          type=\"error\"\n        ></oxd-alert>\n        <oxd-sheet\n          v-if=\"isDemoMode\"\n          type=\"gray-lighten-2\"\n          class=\"XHRM-demo-credentials\"\n        >\n          <oxd-text tag=\"p\">Username : Admin</oxd-text>\n          <oxd-text tag=\"p\">Password : admin123</oxd-text>\n        </oxd-sheet>\n      </div>\n      <oxd-form\n        ref=\"loginForm\"\n        method=\"post\"\n        :action=\"submitUrl\"\n        @submit-valid=\"onSubmit\"\n      >\n        <input name=\"_token\" :value=\"token\" type=\"hidden\" />\n\n        <oxd-form-row>\n          <oxd-input-field\n            v-model=\"username\"\n            name=\"username\"\n            :label=\"$t('general.username')\"\n            label-icon=\"person\"\n            :placeholder=\"$t('auth.username')\"\n            :rules=\"rules.username\"\n            autofocus\n          />\n        </oxd-form-row>\n\n        <oxd-form-row>\n          <oxd-input-field\n            v-model=\"password\"\n            name=\"password\"\n            :label=\"$t('general.password')\"\n            label-icon=\"key\"\n            :placeholder=\"$t('auth.password')\"\n            type=\"password\"\n            :rules=\"rules.password\"\n          />\n        </oxd-form-row>\n\n        <oxd-form-actions class=\"XHRM-login-action\">\n          <oxd-button\n            class=\"XHRM-login-button\"\n            display-type=\"main\"\n            :label=\"$t('auth.login')\"\n            type=\"submit\"\n          />\n        </oxd-form-actions>\n        <div class=\"XHRM-login-forgot\">\n          <oxd-text class=\"XHRM-login-forgot-header\" @click=\"navigateUrl\">\n            {{ $t('auth.forgot_password') }}?\n          </oxd-text>\n        </div>\n      </oxd-form>\n      <template v-if=\"authenticators.length > 0\">\n        <oxd-divider class=\"XHRM-login-seperator\"></oxd-divider>\n        <social-media-auth :authenticators=\"authenticators\"></social-media-auth>\n      </template>\n    </div>\n    <div class=\"XHRM-login-footer\">\n      <div v-if=\"showSocialMedia\" class=\"XHRM-login-footer-sm\">\n        <a\n          href=\"https://www.linkedin.com/company/XHRM/mycompany/\"\n          target=\"_blank\"\n        >\n          <oxd-icon type=\"svg\" class=\"XHRM-sm-icon\" name=\"linkedinFill\" />\n        </a>\n        <a href=\"https://www.facebook.com/XHRM/\" target=\"_blank\">\n          <oxd-icon type=\"svg\" class=\"XHRM-sm-icon\" name=\"facebookFill\" />\n        </a>\n        <a href=\"https://twitter.com/XHRM?lang=en\" target=\"_blank\">\n          <oxd-icon type=\"svg\" class=\"XHRM-sm-icon\" name=\"twitterFill\" />\n        </a>\n        <a href=\"https://www.youtube.com/c/XHRMInc\" target=\"_blank\">\n          <oxd-icon type=\"svg\" class=\"XHRM-sm-icon\" name=\"youtubeFill\" />\n        </a>\n      </div>\n      <slot name=\"footer\"></slot>\n    </div>\n  </login-layout>\n</template>\n\n<script>\nimport {urlFor} from '@ohrm/core/util/helper/url';\nimport {OxdAlert, OxdIcon, OxdSheet} from '@ohrm/oxd';\nimport {required} from '@ohrm/core/util/validation/rules';\nimport {navigate, reloadPage} from '@ohrm/core/util/helper/navigation';\nimport LoginLayout from '@/XHRMAuthenticationPlugin/components/LoginLayout.vue';\nimport SocialMediaAuth from '@/XHRMAuthenticationPlugin/components/SocialMediaAuth.vue';\n\nexport default {\n  components: {\n    'oxd-icon': OxdIcon,\n    'oxd-alert': OxdAlert,\n    'oxd-sheet': OxdSheet,\n    'login-layout': LoginLayout,\n    'social-media-auth': SocialMediaAuth,\n  },\n\n  props: {\n    error: {\n      type: Object,\n      default: () => null,\n    },\n    token: {\n      type: String,\n      required: true,\n    },\n    showSocialMedia: {\n      type: Boolean,\n      default: true,\n    },\n    isDemoMode: {\n      type: Boolean,\n      default: false,\n    },\n    authenticators: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  data() {\n    return {\n      username: '',\n      password: '',\n      rules: {\n        username: [required],\n        password: [required],\n      },\n      submitted: false,\n    };\n  },\n\n  computed: {\n    submitUrl() {\n      return urlFor('/auth/validate');\n    },\n  },\n\n  beforeMount() {\n    setTimeout(() => {\n      reloadPage();\n    }, 1200000); // 20 * 60 * 1000 (20 minutes);\n  },\n\n  methods: {\n    onSubmit() {\n      if (!this.submitted) {\n        this.submitted = true;\n        this.$refs.loginForm.$el.submit();\n      }\n    },\n    navigateUrl() {\n      navigate('/auth/requestPasswordResetCode');\n    },\n  },\n};\n</script>\n\n<style src=\"./login.scss\" lang=\"scss\" scoped></style>\n\r\n"],"mappings":"AAmHA,SAAQA,MAAM,QAAO,4BAA4B;AACjD,SAAQC,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,QAAO,WAAW;AACrD,SAAQC,QAAQ,QAAO,kCAAkC;AACzD,SAAQC,QAAQ,EAAEC,UAAU,QAAO,mCAAmC;AACtE,OAAOC,WAAU,MAAO,uDAAuD;AAC/E,OAAOC,eAAc,MAAO,2DAA2D;AAEvF,eAAe;EACbC,UAAU,EAAE;IACV,UAAU,EAAEP,OAAO;IACnB,WAAW,EAAED,QAAQ;IACrB,WAAW,EAAEE,QAAQ;IACrB,cAAc,EAAEI,WAAW;IAC3B,mBAAmB,EAAEC;EACvB,CAAC;EAEDE,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAEA,CAAA,KAAM;IACjB,CAAC;IACDC,KAAK,EAAE;MACLH,IAAI,EAAEI,MAAM;MACZZ,QAAQ,EAAE;IACZ,CAAC;IACDa,eAAe,EAAE;MACfL,IAAI,EAAEM,OAAO;MACbJ,OAAO,EAAE;IACX,CAAC;IACDK,UAAU,EAAE;MACVP,IAAI,EAAEM,OAAO;MACbJ,OAAO,EAAE;IACX,CAAC;IACDM,cAAc,EAAE;MACdR,IAAI,EAAES,KAAK;MACXP,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EAEDQ,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;QACLF,QAAQ,EAAE,CAACnB,QAAQ,CAAC;QACpBoB,QAAQ,EAAE,CAACpB,QAAQ;MACrB,CAAC;MACDsB,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EAEDC,QAAQ,EAAE;IACRC,SAASA,CAAA,EAAG;MACV,OAAO5B,MAAM,CAAC,gBAAgB,CAAC;IACjC;EACF,CAAC;EAED6B,WAAWA,CAAA,EAAG;IACZC,UAAU,CAAC,MAAM;MACfxB,UAAU,CAAC,CAAC;IACd,CAAC,EAAE,OAAO,CAAC,EAAE;EACf,CAAC;EAEDyB,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAG;MACT,IAAI,CAAC,IAAI,CAACN,SAAS,EAAE;QACnB,IAAI,CAACA,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACO,KAAK,CAACC,SAAS,CAACC,GAAG,CAACC,MAAM,CAAC,CAAC;MACnC;IACF,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZhC,QAAQ,CAAC,gCAAgC,CAAC;IAC5C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
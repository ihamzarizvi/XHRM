{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-buzz-post\"\n};\nconst _hoisted_2 = {\n  class: \"XHRM-buzz-post-header\"\n};\nconst _hoisted_3 = {\n  class: \"XHRM-buzz-post-header-details\"\n};\nconst _hoisted_4 = {\n  class: \"XHRM-buzz-post-header-text\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"XHRM-buzz-post-header-config\"\n};\nconst _hoisted_6 = {\n  class: \"XHRM-buzz-post-body\"\n};\nconst _hoisted_7 = {\n  class: \"XHRM-buzz-post-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_profile_image = _resolveComponent(\"profile-image\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_icon_button = _resolveComponent(\"oxd-icon-button\");\n  const _component_oxd_icon = _resolveComponent(\"oxd-icon\");\n  const _component_oxd_dropdown = _resolveComponent(\"oxd-dropdown\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_sheet = _resolveComponent(\"oxd-sheet\");\n  return _openBlock(), _createBlock(_component_oxd_sheet, {\n    gutters: false,\n    type: \"white\",\n    class: \"XHRM-buzz\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_profile_image, {\n      employee: $props.post.employee\n    }, null, 8, [\"employee\"]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_oxd_text, {\n      tag: \"p\",\n      class: \"XHRM-buzz-post-emp-name\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.employeeFullName), 1)]),\n      _: 1\n    }), _createVNode(_component_oxd_text, {\n      tag: \"p\",\n      class: \"XHRM-buzz-post-time\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.postDateTime), 1)]),\n      _: 1\n    })])]), $props.post.permission.canUpdate || $props.post.permission.canDelete ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_oxd_dropdown, null, {\n      content: _withCtx(() => [$props.post.permission.canDelete ? (_openBlock(), _createElementBlock(\"li\", {\n        key: 0,\n        class: \"XHRM-buzz-post-header-config-item\",\n        onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('delete', $event))\n      }, [_createVNode(_component_oxd_icon, {\n        name: \"trash\"\n      }), _createVNode(_component_oxd_text, {\n        tag: \"p\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('buzz.delete_post')), 1)]),\n        _: 1\n      })])) : _createCommentVNode(\"\", true), $props.post.permission.canUpdate ? (_openBlock(), _createElementBlock(\"li\", {\n        key: 1,\n        class: \"XHRM-buzz-post-header-config-item\",\n        onClick: _cache[1] || (_cache[1] = $event => _ctx.$emit('edit', $event))\n      }, [_createVNode(_component_oxd_icon, {\n        name: \"pencil\"\n      }), _createVNode(_component_oxd_text, {\n        tag: \"p\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('buzz.edit_post')), 1)]),\n        _: 1\n      })])) : _createCommentVNode(\"\", true)]),\n      default: _withCtx(() => [_createVNode(_component_oxd_icon_button, {\n        name: \"three-dots\",\n        \"with-container\": true\n      })]),\n      _: 1\n    })])) : _createCommentVNode(\"\", true)]), _createVNode(_component_oxd_divider)]), _createElementVNode(\"div\", _hoisted_6, [_renderSlot(_ctx.$slots, \"content\", {}, undefined, true), _renderSlot(_ctx.$slots, \"body\", {}, undefined, true)]), _createElementVNode(\"div\", _hoisted_7, [_renderSlot(_ctx.$slots, \"actionButton\", {}, undefined, true), _renderSlot(_ctx.$slots, \"postStats\", {}, undefined, true)]), _renderSlot(_ctx.$slots, \"comments\", {}, undefined, true)]),\n    _: 3\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_oxd_sheet","gutters","type","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_profile_image","employee","$props","post","_hoisted_4","_component_oxd_text","tag","$setup","employeeFullName","postDateTime","permission","canUpdate","canDelete","_createElementBlock","_hoisted_5","_component_oxd_dropdown","content","_withCtx","onClick","_cache","$event","_ctx","$emit","_component_oxd_icon","name","$t","_component_oxd_icon_button","_component_oxd_divider","_hoisted_6","_renderSlot","$slots","undefined","_hoisted_7"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMBuzzPlugin\\components\\PostContainer.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <oxd-sheet :gutters=\"false\" type=\"white\" class=\"XHRM-buzz\">\n    <div class=\"XHRM-buzz-post\">\n      <div class=\"XHRM-buzz-post-header\">\n        <div class=\"XHRM-buzz-post-header-details\">\n          <profile-image :employee=\"post.employee\"></profile-image>\n          <div class=\"XHRM-buzz-post-header-text\">\n            <oxd-text tag=\"p\" class=\"XHRM-buzz-post-emp-name\">\n              {{ employeeFullName }}\n            </oxd-text>\n            <oxd-text tag=\"p\" class=\"XHRM-buzz-post-time\">\n              {{ postDateTime }}\n            </oxd-text>\n          </div>\n        </div>\n        <div\n          v-if=\"post.permission.canUpdate || post.permission.canDelete\"\n          class=\"XHRM-buzz-post-header-config\"\n        >\n          <oxd-dropdown>\n            <oxd-icon-button name=\"three-dots\" :with-container=\"true\" />\n            <template #content>\n              <li\n                v-if=\"post.permission.canDelete\"\n                class=\"XHRM-buzz-post-header-config-item\"\n                @click=\"$emit('delete', $event)\"\n              >\n                <oxd-icon name=\"trash\" />\n                <oxd-text tag=\"p\">\n                  {{ $t('buzz.delete_post') }}\n                </oxd-text>\n              </li>\n              <li\n                v-if=\"post.permission.canUpdate\"\n                class=\"XHRM-buzz-post-header-config-item\"\n                @click=\"$emit('edit', $event)\"\n              >\n                <oxd-icon name=\"pencil\" />\n                <oxd-text tag=\"p\">\n                  {{ $t('buzz.edit_post') }}\n                </oxd-text>\n              </li>\n            </template>\n          </oxd-dropdown>\n        </div>\n      </div>\n      <oxd-divider />\n    </div>\n    <div class=\"XHRM-buzz-post-body\">\n      <slot name=\"content\"></slot>\n      <slot name=\"body\"></slot>\n    </div>\n    <div class=\"XHRM-buzz-post-footer\">\n      <slot name=\"actionButton\"></slot>\n      <slot name=\"postStats\"></slot>\n    </div>\n    <slot name=\"comments\"></slot>\n  </oxd-sheet>\n</template>\n\n<script>\nimport {computed} from 'vue';\nimport useLocale from '@/core/util/composable/useLocale';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport {formatDate, parseDate} from '@/core/util/helper/datefns';\nimport ProfileImage from '@/XHRMBuzzPlugin/components/ProfileImage';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\nimport {OxdDropdownMenu, OxdIcon, OxdSheet} from '@ohrm/oxd';\n\nexport default {\n  name: 'PostContainer',\n  components: {\n    'oxd-icon': OxdIcon,\n    'oxd-sheet': OxdSheet,\n    'oxd-dropdown': OxdDropdownMenu,\n    'profile-image': ProfileImage,\n  },\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  emits: ['edit', 'delete'],\n\n  setup(props) {\n    const {locale} = useLocale();\n    const {jsDateFormat, jsTimeFormat} = useDateFormat();\n    const {$tEmpName} = useEmployeeNameTranslate();\n\n    const employeeFullName = computed(() => {\n      return $tEmpName(props.post.employee, {\n        includeMiddle: true,\n        excludePastEmpTag: false,\n      });\n    });\n\n    const postDateTime = computed(() => {\n      const {createdDate, createdTime} = props.post;\n\n      const utcDate = parseDate(\n        `${createdDate} ${createdTime} +00:00`,\n        'yyyy-MM-dd HH:mm xxx',\n      );\n\n      return formatDate(utcDate, `${jsDateFormat} ${jsTimeFormat}`, {\n        locale,\n      });\n    });\n\n    return {\n      postDateTime,\n      employeeFullName,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped src=\"./post-container.scss\"></style>\n"],"mappings":";;EAqBSA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAuB;;EAC3BA,KAAK,EAAC;AAA+B;;EAEnCA,KAAK,EAAC;AAA4B;;;EAWvCA,KAAK,EAAC;;;EA+BPA,KAAK,EAAC;AAAqB;;EAI3BA,KAAK,EAAC;AAAuB;;;;;;;;;uBAnDpCC,YAAA,CAwDYC,oBAAA;IAxDAC,OAAO,EAAE,KAAK;IAAEC,IAAI,EAAC,OAAO;IAACJ,KAAK,EAAC;;sBAC7C,MA6CM,CA7CNK,mBAAA,CA6CM,OA7CNC,UA6CM,GA5CJD,mBAAA,CA0CM,OA1CNE,UA0CM,GAzCJF,mBAAA,CAUM,OAVNG,UAUM,GATJC,YAAA,CAAyDC,wBAAA;MAAzCC,QAAQ,EAAEC,MAAA,CAAAC,IAAI,CAACF;+BAC/BN,mBAAA,CAOM,OAPNS,UAOM,GANJL,YAAA,CAEWM,mBAAA;MAFDC,GAAG,EAAC,GAAG;MAAChB,KAAK,EAAC;;wBACtB,MAAsB,C,kCAAnBiB,MAAA,CAAAC,gBAAgB,M;;QAErBT,YAAA,CAEWM,mBAAA;MAFDC,GAAG,EAAC,GAAG;MAAChB,KAAK,EAAC;;wBACtB,MAAkB,C,kCAAfiB,MAAA,CAAAE,YAAY,M;;YAKbP,MAAA,CAAAC,IAAI,CAACO,UAAU,CAACC,SAAS,IAAIT,MAAA,CAAAC,IAAI,CAACO,UAAU,CAACE,SAAS,I,cAD9DC,mBAAA,CA6BM,OA7BNC,UA6BM,GAzBJf,YAAA,CAwBegB,uBAAA;MAtBFC,OAAO,EAAAC,QAAA,CAChB,MASK,CARGf,MAAA,CAAAC,IAAI,CAACO,UAAU,CAACE,SAAS,I,cADjCC,mBAAA,CASK;;QAPHvB,KAAK,EAAC,mCAAmC;QACxC4B,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,KAAK,WAAWF,MAAM;UAE9BrB,YAAA,CAAyBwB,mBAAA;QAAfC,IAAI,EAAC;MAAO,IACtBzB,YAAA,CAEWM,mBAAA;QAFDC,GAAG,EAAC;MAAG;0BACf,MAA4B,C,kCAAzBe,IAAA,CAAAI,EAAE,0B;;6CAIDvB,MAAA,CAAAC,IAAI,CAACO,UAAU,CAACC,SAAS,I,cADjCE,mBAAA,CASK;;QAPHvB,KAAK,EAAC,mCAAmC;QACxC4B,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,KAAK,SAASF,MAAM;UAE5BrB,YAAA,CAA0BwB,mBAAA;QAAhBC,IAAI,EAAC;MAAQ,IACvBzB,YAAA,CAEWM,mBAAA;QAFDC,GAAG,EAAC;MAAG;0BACf,MAA0B,C,kCAAvBe,IAAA,CAAAI,EAAE,wB;;;wBAnBX,MAA4D,CAA5D1B,YAAA,CAA4D2B,0BAAA;QAA3CF,IAAI,EAAC,YAAY;QAAE,gBAAc,EAAE;;;6CA0B1DzB,YAAA,CAAe4B,sBAAA,E,GAEjBhC,mBAAA,CAGM,OAHNiC,UAGM,GAFJC,WAAA,CAA4BR,IAAA,CAAAS,MAAA,iBAAAC,SAAA,SAC5BF,WAAA,CAAyBR,IAAA,CAAAS,MAAA,cAAAC,SAAA,Q,GAE3BpC,mBAAA,CAGM,OAHNqC,UAGM,GAFJH,WAAA,CAAiCR,IAAA,CAAAS,MAAA,sBAAAC,SAAA,SACjCF,WAAA,CAA8BR,IAAA,CAAAS,MAAA,mBAAAC,SAAA,Q,GAEhCF,WAAA,CAA6BR,IAAA,CAAAS,MAAA,kBAAAC,SAAA,Q","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
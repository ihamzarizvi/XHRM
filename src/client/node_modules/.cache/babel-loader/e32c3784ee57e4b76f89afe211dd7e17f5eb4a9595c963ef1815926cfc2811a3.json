{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_employee_autocomplete = _resolveComponent(\"employee-autocomplete\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_jobtitle_dropdown = _resolveComponent(\"jobtitle-dropdown\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_employment_status_dropdown = _resolveComponent(\"employment-status-dropdown\");\n  const _component_date_input = _resolveComponent(\"date-input\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_button = _resolveComponent(\"oxd-button\");\n  const _component_oxd_form_actions = _resolveComponent(\"oxd-form-actions\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  const _component_oxd_table_filter = _resolveComponent(\"oxd-table-filter\");\n  const _component_reports_table = _resolveComponent(\"reports-table\");\n  return _openBlock(), _createBlock(_component_reports_table, {\n    module: \"time\",\n    name: \"attendance\",\n    prefetch: false,\n    filters: $setup.serializedFilters,\n    \"column-count\": 2\n  }, {\n    default: _withCtx(({\n      generateReport\n    }) => [_createVNode(_component_oxd_table_filter, {\n      \"filter-title\": _ctx.$t('attendance.attendance_total_summary_report')\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_form, {\n        onSubmitValid: generateReport\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_form_row, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n            cols: 3,\n            class: \"XHRM-full-width-grid\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n              default: _withCtx(() => [_createVNode(_component_employee_autocomplete, {\n                modelValue: $setup.filters.employee,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.filters.employee = $event),\n                rules: $setup.rules.employee,\n                params: {\n                  includeEmployees: 'currentAndPast'\n                }\n              }, null, 8, [\"modelValue\", \"rules\"])]),\n              _: 1\n            }), _createVNode(_component_oxd_grid_item, null, {\n              default: _withCtx(() => [_createVNode(_component_jobtitle_dropdown, {\n                modelValue: $setup.filters.jobTitle,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.filters.jobTitle = $event)\n              }, null, 8, [\"modelValue\"])]),\n              _: 1\n            }), _createVNode(_component_oxd_grid_item, null, {\n              default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n                modelValue: $setup.filters.subunit,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.filters.subunit = $event),\n                type: \"select\",\n                label: _ctx.$t('general.sub_unit'),\n                options: $props.subunits\n              }, null, 8, [\"modelValue\", \"label\", \"options\"])]),\n              _: 1\n            }), _createVNode(_component_oxd_grid_item, null, {\n              default: _withCtx(() => [_createVNode(_component_employment_status_dropdown, {\n                modelValue: $setup.filters.empStatus,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.filters.empStatus = $event)\n              }, null, 8, [\"modelValue\"])]),\n              _: 1\n            }), _createVNode(_component_oxd_grid_item, null, {\n              default: _withCtx(() => [_createVNode(_component_date_input, {\n                modelValue: $setup.filters.fromDate,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.filters.fromDate = $event),\n                placeholder: _ctx.$t('general.from'),\n                rules: $setup.rules.fromDate,\n                label: _ctx.$t('general.date_range')\n              }, null, 8, [\"modelValue\", \"placeholder\", \"rules\", \"label\"])]),\n              _: 1\n            }), _createVNode(_component_oxd_grid_item, null, {\n              default: _withCtx(() => [_createVNode(_component_date_input, {\n                modelValue: $setup.filters.toDate,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.filters.toDate = $event),\n                label: \"Â \",\n                placeholder: _ctx.$t('general.to'),\n                rules: $setup.rules.toDate\n              }, null, 8, [\"modelValue\", \"placeholder\", \"rules\"])]),\n              _: 1\n            })]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_actions, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_button, {\n            type: \"submit\",\n            \"display-type\": \"secondary\",\n            label: _ctx.$t('general.view')\n          }, null, 8, [\"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"onSubmitValid\"])]),\n      _: 2\n    }, 1032, [\"filter-title\"]), _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1))]),\n    footer: _withCtx(({\n      data\n    }) => [_createTextVNode(_toDisplayString(_ctx.$t('time.total_duration')) + \": \" + _toDisplayString(data.meta ? data.meta.sum.label : '0.00'), 1)]),\n    _: 1\n  }, 8, [\"filters\"]);\n}","map":{"version":3,"names":["_createBlock","_component_reports_table","module","name","prefetch","filters","$setup","serializedFilters","default","_withCtx","generateReport","_createVNode","_component_oxd_table_filter","_ctx","$t","_component_oxd_form","onSubmitValid","_component_oxd_form_row","_component_oxd_grid","cols","class","_component_oxd_grid_item","_component_employee_autocomplete","employee","$event","rules","params","_component_jobtitle_dropdown","jobTitle","_component_oxd_input_field","subunit","type","label","options","$props","subunits","_component_employment_status_dropdown","empStatus","_component_date_input","fromDate","placeholder","toDate","_component_oxd_divider","_component_oxd_form_actions","_component_oxd_button","_createElementVNode","footer","data","_toDisplayString","meta","sum"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMAttendancePlugin\\pages\\AttendanceSummaryReport.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <reports-table\n    module=\"time\"\n    name=\"attendance\"\n    :prefetch=\"false\"\n    :filters=\"serializedFilters\"\n    :column-count=\"2\"\n  >\n    <template #default=\"{generateReport}\">\n      <oxd-table-filter\n        :filter-title=\"$t('attendance.attendance_total_summary_report')\"\n      >\n        <oxd-form @submit-valid=\"generateReport\">\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"XHRM-full-width-grid\">\n              <oxd-grid-item>\n                <employee-autocomplete\n                  v-model=\"filters.employee\"\n                  :rules=\"rules.employee\"\n                  :params=\"{\n                    includeEmployees: 'currentAndPast',\n                  }\"\n                />\n              </oxd-grid-item>\n\n              <oxd-grid-item>\n                <jobtitle-dropdown v-model=\"filters.jobTitle\" />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"filters.subunit\"\n                  type=\"select\"\n                  :label=\"$t('general.sub_unit')\"\n                  :options=\"subunits\"\n                />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <employment-status-dropdown v-model=\"filters.empStatus\" />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <date-input\n                  v-model=\"filters.fromDate\"\n                  :placeholder=\"$t('general.from')\"\n                  :rules=\"rules.fromDate\"\n                  :label=\"$t('general.date_range')\"\n                />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <date-input\n                  v-model=\"filters.toDate\"\n                  label=\"&nbsp\"\n                  :placeholder=\"$t('general.to')\"\n                  :rules=\"rules.toDate\"\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n\n          <oxd-divider />\n\n          <oxd-form-actions>\n            <oxd-button\n              type=\"submit\"\n              display-type=\"secondary\"\n              :label=\"$t('general.view')\"\n            />\n          </oxd-form-actions>\n        </oxd-form>\n      </oxd-table-filter>\n      <br />\n    </template>\n\n    <template #footer=\"{data}\">\n      {{ $t('time.total_duration') }}:\n      {{ data.meta ? data.meta.sum.label : '0.00' }}\n    </template>\n  </reports-table>\n</template>\n\n<script>\nimport {computed, ref} from 'vue';\nimport {\n  validSelection,\n  validDateFormat,\n  endDateShouldBeAfterStartDate,\n  startDateShouldBeBeforeEndDate,\n  shouldNotExceedCharLength,\n} from '@/core/util/validation/rules';\nimport ReportsTable from '@/core/components/table/ReportsTable';\nimport JobtitleDropdown from '@/XHRMPimPlugin/components/JobtitleDropdown';\nimport EmployeeAutocomplete from '@/core/components/inputs/EmployeeAutocomplete';\nimport EmploymentStatusDropdown from '@/XHRMPimPlugin/components/EmploymentStatusDropdown';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\n\nconst defaultFilters = {\n  employee: null,\n  fromDate: null,\n  toDate: null,\n  jobTitle: null,\n  subunit: null,\n  empStatus: null,\n};\n\nexport default {\n  components: {\n    'reports-table': ReportsTable,\n    'jobtitle-dropdown': JobtitleDropdown,\n    'employee-autocomplete': EmployeeAutocomplete,\n    'employment-status-dropdown': EmploymentStatusDropdown,\n  },\n\n  props: {\n    subunits: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  setup() {\n    const filters = ref({\n      ...defaultFilters,\n    });\n    const {$t} = usei18n();\n    const {userDateFormat} = useDateFormat();\n\n    const rules = {\n      fromDate: [\n        validDateFormat(userDateFormat),\n        startDateShouldBeBeforeEndDate(\n          () => filters.value.toDate,\n          $t('general.from_date_should_be_before_to_date'),\n          {allowSameDate: true},\n        ),\n      ],\n      toDate: [\n        validDateFormat(userDateFormat),\n        endDateShouldBeAfterStartDate(\n          () => filters.value.fromDate,\n          $t('general.to_date_should_be_after_from_date'),\n          {allowSameDate: true},\n        ),\n      ],\n      employee: [shouldNotExceedCharLength(100), validSelection],\n    };\n\n    const serializedFilters = computed(() => {\n      return {\n        empNumber: filters.value.employee?.id,\n        fromDate: filters.value.fromDate,\n        toDate: filters.value.toDate,\n        jobTitleId: filters.value.jobTitle?.id,\n        subunitId: filters.value.subunit?.id,\n        employmentStatusId: filters.value.empStatus?.id,\n      };\n    });\n\n    return {\n      rules,\n      filters,\n      serializedFilters,\n    };\n  },\n};\n</script>\n\r\n"],"mappings":";;;;;;;;;;;;;;;;uBAoBEA,YAAA,CA2EgBC,wBAAA;IA1EdC,MAAM,EAAC,MAAM;IACbC,IAAI,EAAC,YAAY;IAChBC,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAEC,MAAA,CAAAC,iBAAiB;IAC1B,cAAY,EAAE;;IAEJC,OAAO,EAAAC,QAAA,CAChB,CA2DmB;MA5DAC;IAAc,OACjCC,YAAA,CA2DmBC,2BAAA;MA1DhB,cAAY,EAAEC,IAAA,CAAAC,EAAE;;wBAEjB,MAuDW,CAvDXH,YAAA,CAuDWI,mBAAA;QAvDAC,aAAY,EAAEN;MAAc;0BACrC,MA2Ce,CA3CfC,YAAA,CA2CeM,uBAAA;4BA1Cb,MAyCW,CAzCXN,YAAA,CAyCWO,mBAAA;YAzCAC,IAAI,EAAE,CAAC;YAAEC,KAAK,EAAC;;8BACxB,MAQgB,CARhBT,YAAA,CAQgBU,wBAAA;gCAPd,MAME,CANFV,YAAA,CAMEW,gCAAA;4BALShB,MAAA,CAAAD,OAAO,CAACkB,QAAQ;2EAAhBjB,MAAA,CAAAD,OAAO,CAACkB,QAAQ,GAAAC,MAAA;gBACxBC,KAAK,EAAEnB,MAAA,CAAAmB,KAAK,CAACF,QAAQ;gBACrBG,MAAM,EAAE;;;;;gBAMbf,YAAA,CAEgBU,wBAAA;gCADd,MAAgD,CAAhDV,YAAA,CAAgDgB,4BAAA;4BAApBrB,MAAA,CAAAD,OAAO,CAACuB,QAAQ;2EAAhBtB,MAAA,CAAAD,OAAO,CAACuB,QAAQ,GAAAJ,MAAA;;;gBAE9Cb,YAAA,CAOgBU,wBAAA;gCANd,MAKE,CALFV,YAAA,CAKEkB,0BAAA;4BAJSvB,MAAA,CAAAD,OAAO,CAACyB,OAAO;2EAAfxB,MAAA,CAAAD,OAAO,CAACyB,OAAO,GAAAN,MAAA;gBACxBO,IAAI,EAAC,QAAQ;gBACZC,KAAK,EAAEnB,IAAA,CAAAC,EAAE;gBACTmB,OAAO,EAAEC,MAAA,CAAAC;;;gBAGdxB,YAAA,CAEgBU,wBAAA;gCADd,MAA0D,CAA1DV,YAAA,CAA0DyB,qCAAA;4BAArB9B,MAAA,CAAAD,OAAO,CAACgC,SAAS;2EAAjB/B,MAAA,CAAAD,OAAO,CAACgC,SAAS,GAAAb,MAAA;;;gBAExDb,YAAA,CAOgBU,wBAAA;gCANd,MAKE,CALFV,YAAA,CAKE2B,qBAAA;4BAJShC,MAAA,CAAAD,OAAO,CAACkC,QAAQ;2EAAhBjC,MAAA,CAAAD,OAAO,CAACkC,QAAQ,GAAAf,MAAA;gBACxBgB,WAAW,EAAE3B,IAAA,CAAAC,EAAE;gBACfW,KAAK,EAAEnB,MAAA,CAAAmB,KAAK,CAACc,QAAQ;gBACrBP,KAAK,EAAEnB,IAAA,CAAAC,EAAE;;;gBAGdH,YAAA,CAOgBU,wBAAA;gCANd,MAKE,CALFV,YAAA,CAKE2B,qBAAA;4BAJShC,MAAA,CAAAD,OAAO,CAACoC,MAAM;2EAAdnC,MAAA,CAAAD,OAAO,CAACoC,MAAM,GAAAjB,MAAA;gBACvBQ,KAAK,EAAC,GAAO;gBACZQ,WAAW,EAAE3B,IAAA,CAAAC,EAAE;gBACfW,KAAK,EAAEnB,MAAA,CAAAmB,KAAK,CAACgB;;;;;;;YAMtB9B,YAAA,CAAe+B,sBAAA,GAEf/B,YAAA,CAMmBgC,2BAAA;4BALjB,MAIE,CAJFhC,YAAA,CAIEiC,qBAAA;YAHAb,IAAI,EAAC,QAAQ;YACb,cAAY,EAAC,WAAW;YACvBC,KAAK,EAAEnB,IAAA,CAAAC,EAAE;;;;;;;0DAKlB+B,mBAAA,CAAM,uB;IAGGC,MAAM,EAAArC,QAAA,CACf,CAA+B;MADbsC;IAAI,O,kCACnBlC,IAAA,CAAAC,EAAE,2BAA0B,IAC/B,GAAAkC,gBAAA,CAAGD,IAAI,CAACE,IAAI,GAAGF,IAAI,CAACE,IAAI,CAACC,GAAG,CAAClB,KAAK,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
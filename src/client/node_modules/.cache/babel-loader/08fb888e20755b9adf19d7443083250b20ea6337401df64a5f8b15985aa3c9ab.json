{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, renderSlot as _renderSlot } from \"vue\";\nconst _hoisted_1 = {\n  class: \"XHRM-oauth-container\"\n};\nconst _hoisted_2 = {\n  class: \"XHRM-card-container\"\n};\nconst _hoisted_3 = {\n  class: \"XHRM-oauth-list\"\n};\nconst _hoisted_4 = [\"value\"];\nconst _hoisted_5 = [\"name\", \"value\"];\nconst _hoisted_6 = {\n  class: \"XHRM-oauth-button-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_login_branding = _resolveComponent(\"login-branding\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_button = _resolveComponent(\"oxd-button\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  const _component_oxd_alert = _resolveComponent(\"oxd-alert\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_login_branding, {\n    \"img-src\": $props.loginBannerSrc,\n    class: \"XHRM-oauth-branding\"\n  }, null, 8, [\"img-src\"]), _createVNode(_component_oxd_divider), $props.errorType === null ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createVNode(_component_oxd_text, null, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('auth.client_name_would_like_to', {\n      clientName: $props.clientName\n    })) + \": \", 1)]),\n    _: 1\n  }), _createElementVNode(\"ul\", _hoisted_3, [_createElementVNode(\"li\", null, [_createVNode(_component_oxd_text, null, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('auth.access_and_manage_your_data')), 1)]),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_oxd_text, null, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('auth.perform_actions_on_your_behalf')), 1)]),\n    _: 1\n  })])]), _createVNode(_component_oxd_text, null, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('auth.do_you_want_to_allow_access')), 1)]),\n    _: 1\n  }), _cache[0] || (_cache[0] = _createElementVNode(\"br\", null, null, -1)), _createVNode(_component_oxd_form, {\n    ref: \"authorizeForm\",\n    method: \"GET\",\n    action: $options.submitUrl,\n    onSubmitValid: $options.onSubmit\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"input\", {\n      name: \"authorized\",\n      value: $data.authorized,\n      type: \"hidden\"\n    }, null, 8, _hoisted_4), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.params, (value, name) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: name\n      }, [_createElementVNode(\"input\", {\n        name: name,\n        value: value,\n        type: \"hidden\"\n      }, null, 8, _hoisted_5)]);\n    }), 128)), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_oxd_button, {\n      \"display-type\": \"ghost\",\n      size: \"large\",\n      class: \"XHRM-oauth-button\",\n      label: _ctx.$t('auth.deny'),\n      onClick: $options.onCancel\n    }, null, 8, [\"label\", \"onClick\"]), _createVNode(_component_oxd_button, {\n      \"display-type\": \"secondary\",\n      class: \"XHRM-oauth-button\",\n      size: \"large\",\n      label: _ctx.$t('auth.allow_access'),\n      type: \"submit\"\n    }, null, 8, [\"label\"])])]),\n    _: 1\n  }, 8, [\"action\", \"onSubmitValid\"])], 64)) : $props.params['client_id'] === 'XHRM_mobile_app' ? (_openBlock(), _createBlock(_component_oxd_alert, {\n    key: 1,\n    show: true,\n    type: \"error\",\n    message: _ctx.$t('auth.mobile_client_disabled_error')\n  }, null, 8, [\"message\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createVNode(_component_oxd_alert, {\n    show: true,\n    type: \"error\",\n    message: _ctx.$t('auth.this_request_is_invalid')\n  }, null, 8, [\"message\"]), _createVNode(_component_oxd_text, {\n    class: \"XHRM-oauth-error\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.error')) + \": \" + _toDisplayString($props.errorType), 1)]),\n    _: 1\n  })], 64))]), _renderSlot(_ctx.$slots, \"footer\", {}, undefined, true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_login_branding","$props","loginBannerSrc","_component_oxd_divider","errorType","_Fragment","key","_component_oxd_text","_ctx","$t","clientName","_hoisted_3","_component_oxd_form","ref","method","action","$options","submitUrl","onSubmitValid","onSubmit","name","value","$data","authorized","type","_renderList","params","_hoisted_6","_component_oxd_button","size","label","onClick","onCancel","_createBlock","_component_oxd_alert","show","message","_toDisplayString","_renderSlot","$slots","undefined"],"sources":["C:\\Users\\x\\Documents\\Projects\\HRM\\XHRM\\src\\client\\src\\XHRMCoreOAuthPlugin\\pages\\oauth\\OAuthAuthorize.vue"],"sourcesContent":["<!--\n/**\n * XHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 XHRM Inc., http://www.XHRM.com\n *\n * XHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * XHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with XHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"XHRM-oauth-container\">\n    <div class=\"XHRM-card-container\">\n      <login-branding\n        :img-src=\"loginBannerSrc\"\n        class=\"XHRM-oauth-branding\"\n      />\n      <oxd-divider />\n      <template v-if=\"errorType === null\">\n        <oxd-text>\n          {{ $t('auth.client_name_would_like_to', {clientName: clientName}) }}:\n        </oxd-text>\n        <ul class=\"XHRM-oauth-list\">\n          <li>\n            <oxd-text>{{ $t('auth.access_and_manage_your_data') }}</oxd-text>\n          </li>\n          <li>\n            <oxd-text>\n              {{ $t('auth.perform_actions_on_your_behalf') }}\n            </oxd-text>\n          </li>\n        </ul>\n        <oxd-text>{{ $t('auth.do_you_want_to_allow_access') }}</oxd-text>\n        <br />\n        <oxd-form\n          ref=\"authorizeForm\"\n          method=\"GET\"\n          :action=\"submitUrl\"\n          @submit-valid=\"onSubmit\"\n        >\n          <input name=\"authorized\" :value=\"authorized\" type=\"hidden\" />\n          <div v-for=\"(value, name) in params\" :key=\"name\">\n            <input :name=\"name\" :value=\"value\" type=\"hidden\" />\n          </div>\n          <div class=\"XHRM-oauth-button-container\">\n            <oxd-button\n              display-type=\"ghost\"\n              size=\"large\"\n              class=\"XHRM-oauth-button\"\n              :label=\"$t('auth.deny')\"\n              @click=\"onCancel\"\n            />\n            <oxd-button\n              display-type=\"secondary\"\n              class=\"XHRM-oauth-button\"\n              size=\"large\"\n              :label=\"$t('auth.allow_access')\"\n              type=\"submit\"\n            />\n          </div>\n        </oxd-form>\n      </template>\n      <template v-else-if=\"params['client_id'] === 'XHRM_mobile_app'\">\n        <oxd-alert\n          :show=\"true\"\n          type=\"error\"\n          :message=\"$t('auth.mobile_client_disabled_error')\"\n        />\n      </template>\n      <template v-else>\n        <oxd-alert\n          :show=\"true\"\n          type=\"error\"\n          :message=\"$t('auth.this_request_is_invalid')\"\n        />\n        <oxd-text class=\"XHRM-oauth-error\">\n          {{ $t('general.error') }}: {{ errorType }}\n        </oxd-text>\n      </template>\n    </div>\n    <slot name=\"footer\"></slot>\n  </div>\n</template>\n\n<script>\nimport {urlFor} from '@/core/util/helper/url';\nimport LoginBranding from '@/XHRMAuthenticationPlugin/components/LoginBranding.vue';\nimport {OxdAlert} from '@ohrm/oxd';\n\nexport default {\n  name: 'OAuthAuthorize',\n  components: {\n    'login-branding': LoginBranding,\n    'oxd-alert': OxdAlert,\n  },\n  props: {\n    params: {\n      type: Object,\n      required: true,\n    },\n    clientName: {\n      type: String,\n      default: null,\n    },\n    errorType: {\n      type: String,\n      default: null,\n    },\n    loginBannerSrc: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      authorized: true,\n    };\n  },\n  computed: {\n    submitUrl() {\n      return urlFor('/oauth2/authorize/consent');\n    },\n  },\n  methods: {\n    onCancel() {\n      this.authorized = false;\n      this.onSubmit();\n    },\n    onSubmit() {\n      this.$nextTick(() => {\n        this.$refs.authorizeForm.$el.submit();\n      });\n    },\n  },\n};\n</script>\n\n<style src=\"./oauth-authorize.scss\" scoped lang=\"scss\"></style>\n\r\n"],"mappings":";;EAoBOA,KAAK,EAAC;AAAsB;;EAC1BA,KAAK,EAAC;AAAqB;;EAUxBA,KAAK,EAAC;AAAiB;;;;EAsBpBA,KAAK,EAAC;AAA6B;;;;;;;;uBAjChDC,mBAAA,CAsEM,OAtENC,UAsEM,GArEJC,mBAAA,CAmEM,OAnENC,UAmEM,GAlEJC,YAAA,CAGEC,yBAAA;IAFC,SAAO,EAAEC,MAAA,CAAAC,cAAc;IACxBR,KAAK,EAAC;4BAERK,YAAA,CAAeI,sBAAA,GACCF,MAAA,CAAAG,SAAS,a,cAAzBT,mBAAA,CA2CWU,SAAA;IAAAC,GAAA;EAAA,IA1CTP,YAAA,CAEWQ,mBAAA;sBADT,MAAoE,C,kCAAjEC,IAAA,CAAAC,EAAE;MAAAC,UAAA,EAAgDT,MAAA,CAAAS;IAAU,MAAK,IACtE,K;;MACAb,mBAAA,CASK,MATLc,UASK,GARHd,mBAAA,CAEK,aADHE,YAAA,CAAiEQ,mBAAA;sBAAvD,MAA4C,C,kCAAzCC,IAAA,CAAAC,EAAE,0C;;QAEjBZ,mBAAA,CAIK,aAHHE,YAAA,CAEWQ,mBAAA;sBADT,MAA+C,C,kCAA5CC,IAAA,CAAAC,EAAE,6C;;UAIXV,YAAA,CAAiEQ,mBAAA;sBAAvD,MAA4C,C,kCAAzCC,IAAA,CAAAC,EAAE,0C;;gCACfZ,mBAAA,CAAM,wBACNE,YAAA,CA0BWa,mBAAA;IAzBTC,GAAG,EAAC,eAAe;IACnBC,MAAM,EAAC,KAAK;IACXC,MAAM,EAAEC,QAAA,CAAAC,SAAS;IACjBC,aAAY,EAAEF,QAAA,CAAAG;;sBAEf,MAA6D,CAA7DtB,mBAAA,CAA6D;MAAtDuB,IAAI,EAAC,YAAY;MAAEC,KAAK,EAAEC,KAAA,CAAAC,UAAU;MAAEC,IAAI,EAAC;gDAClD7B,mBAAA,CAEMU,SAAA,QAAAoB,WAAA,CAFuBxB,MAAA,CAAAyB,MAAM,GAAtBL,KAAK,EAAED,IAAI;2BAAxBzB,mBAAA,CAEM;QAFgCW,GAAG,EAAEc;MAAI,IAC7CvB,mBAAA,CAAmD;QAA3CuB,IAAI,EAAEA,IAAI;QAAGC,KAAK,EAAEA,KAAK;QAAEG,IAAI,EAAC;;eAE1C3B,mBAAA,CAeM,OAfN8B,UAeM,GAdJ5B,YAAA,CAME6B,qBAAA;MALA,cAAY,EAAC,OAAO;MACpBC,IAAI,EAAC,OAAO;MACZnC,KAAK,EAAC,mBAAmB;MACxBoC,KAAK,EAAEtB,IAAA,CAAAC,EAAE;MACTsB,OAAK,EAAEf,QAAA,CAAAgB;uCAEVjC,YAAA,CAME6B,qBAAA;MALA,cAAY,EAAC,WAAW;MACxBlC,KAAK,EAAC,mBAAmB;MACzBmC,IAAI,EAAC,OAAO;MACXC,KAAK,EAAEtB,IAAA,CAAAC,EAAE;MACVe,IAAI,EAAC;;;8CAKQvB,MAAA,CAAAyB,MAAM,uC,cACzBO,YAAA,CAIEC,oBAAA;;IAHCC,IAAI,EAAE,IAAI;IACXX,IAAI,EAAC,OAAO;IACXY,OAAO,EAAE5B,IAAA,CAAAC,EAAE;6CAGhBd,mBAAA,CASWU,SAAA;IAAAC,GAAA;EAAA,IARTP,YAAA,CAIEmC,oBAAA;IAHCC,IAAI,EAAE,IAAI;IACXX,IAAI,EAAC,OAAO;IACXY,OAAO,EAAE5B,IAAA,CAAAC,EAAE;4BAEdV,YAAA,CAEWQ,mBAAA;IAFDb,KAAK,EAAC;EAAkB;sBAChC,MAAyB,C,kCAAtBc,IAAA,CAAAC,EAAE,qBAAoB,IAAE,GAAA4B,gBAAA,CAAGpC,MAAA,CAAAG,SAAS,M;;eAI7CkC,WAAA,CAA2B9B,IAAA,CAAA+B,MAAA,gBAAAC,SAAA,Q","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}